import{g as b,d as U,u as N,r as R,h as z,i as G,c as u,a as s,t as i,b as e,F as h,j as y,k as o,w as r,l as k,f as q,o as l,e as w,m as I,n as d,p as L}from"./index-61977f9a.js";import{_ as m,a as p,b as _,c as E}from"./VirtualScroll.vue_vue_type_style_index_0_scoped_a66a9b3d_lang-c469ee38.js";import{_ as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-0bb35303.js";import{u as O,S as W}from"./useGateMeetings-8a2a231a.js";import{C as H}from"./calendar-aaa52559.js";import{F as K}from"./folder-open-c3bdb052.js";import{B as Q}from"./building-880f0edd.js";import{U as J}from"./users-f13f2b3d.js";import{P as X}from"./plus-1536707d.js";import{F as Y}from"./file-text-b2c50311.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=b("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=b("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),te={class:"container mx-auto px-4 py-8"},se={class:"mb-8"},oe={class:"text-3xl font-bold text-foreground mb-2"},re={class:"text-muted-foreground"},ne={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ae={class:"flex items-center space-x-3"},ie={class:"p-2 bg-primary/10 rounded-lg"},le={class:"text-muted-foreground text-sm"},de={key:0,class:"mt-12"},ce={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},ue={class:"text-2xl font-bold"},me={class:"text-2xl font-bold"},pe={class:"text-2xl font-bold"},_e={class:"text-2xl font-bold"},fe={key:0,class:"mt-8"},ge={class:"flex items-center justify-between"},xe={class:"flex items-center gap-2"},ve={class:"space-y-3"},he=["onClick"],ye={class:"flex-1"},ke={class:"font-medium text-gray-900"},we={class:"text-sm text-gray-600"},be={class:"text-xs text-gray-500"},je={class:"flex items-center space-x-2"},Re=U({__name:"HomePage",setup(Me){const g=q(),{currentUser:c}=N(),x=R({activeProjects:12,totalBudget:45e6,reportsDue:3}),{meetings:v,loading:Ce,error:Ve,fetchUpcomingMeetings:j,formatMeetingDate:M,getMeetingStatus:C,getMeetingStatusClass:V}=O(),B=async()=>{var a,t;await j({userRole:(a=c.value)==null?void 0:a.role,userId:(t=c.value)==null?void 0:t.id})},P=a=>{g.push(`/projects/${a}`)},$=[{title:"My Projects",description:"View and manage your assigned projects",path:"/projects",filter:"my",roles:["pm","spm","director","admin"],icon:K},{title:"All Projects",description:"Browse all projects in the system",path:"/projects",filter:"all",roles:["spm","director","admin"],icon:Q},{title:"Vendor Management",description:"Manage vendor profiles and assignments",path:"/vendors",roles:["pm","spm","director","admin"],icon:J},{title:"Workflow Management",description:"Manage tasks, meetings, and approvals",path:"/workflow",roles:["pm","spm","director","admin"],icon:ee},{title:"Create New Project",description:"Start a new project with guided setup wizard",path:"/projects/new",roles:["pm","spm","director","admin"],icon:X},{title:"Reporting",description:"Generate and view project reports",path:"/reports",roles:["pm","spm","director","admin"],icon:Y},{title:"Analytics",description:"View project analytics and insights",path:"/analytics",roles:["spm","director","admin"],icon:Z},{title:"Settings",description:"Manage your account and preferences",path:"/settings",roles:["pm","spm","director","admin","vendor"],icon:W}],D={"Project Manager":"pm","Senior Project Manager":"spm",Director:"director",Vendor:"vendor"},F=z(()=>{const a=D[c.value.role]||"vendor";return $.filter(t=>t.roles.includes(a))}),A=(a,t)=>{t?g.push(`${a}?filter=${t}`):g.push(a)},S=a=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return G(()=>{B()}),(a,t)=>(l(),u("div",te,[s("div",se,[s("h1",oe," Welcome back, "+i(e(c).name),1),s("p",re,i(e(c).role==="Vendor"?"Manage your project submissions and track progress.":"Access your project management tools and resources."),1)]),s("div",ne,[(l(!0),u(h,null,y(F.value,n=>(l(),w(e(_),{key:n.title,class:"cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:T=>A(n.path,n.filter)},{default:r(()=>[o(e(m),{class:"pb-3"},{default:r(()=>[s("div",ae,[s("div",ie,[(l(),w(I(n.icon),{class:"h-6 w-6 text-primary"}))]),s("div",null,[o(e(f),{class:"text-lg"},{default:r(()=>[d(i(n.title),1)]),_:2},1024)])])]),_:2},1024),o(e(p),null,{default:r(()=>[s("p",le,i(n.description),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),e(c).role!=="Vendor"?(l(),u("div",de,[t[8]||(t[8]=s("h2",{class:"text-xl font-semibold mb-6"},"Quick Overview",-1)),s("div",ce,[o(e(_),null,{default:r(()=>[o(e(m),{class:"pb-2"},{default:r(()=>[o(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>t[1]||(t[1]=[d("Active Projects",-1)])),_:1,__:[1]})]),_:1}),o(e(p),null,{default:r(()=>[s("div",ue,i(x.value.activeProjects),1)]),_:1})]),_:1}),o(e(_),null,{default:r(()=>[o(e(m),{class:"pb-2"},{default:r(()=>[o(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>t[2]||(t[2]=[d("Total Budget",-1)])),_:1,__:[2]})]),_:1}),o(e(p),null,{default:r(()=>[s("div",me,i(S(x.value.totalBudget)),1)]),_:1})]),_:1}),o(e(_),null,{default:r(()=>[o(e(m),{class:"pb-2"},{default:r(()=>[o(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>t[3]||(t[3]=[d("Reports Due",-1)])),_:1,__:[3]})]),_:1}),o(e(p),null,{default:r(()=>[s("div",pe,i(x.value.reportsDue),1)]),_:1})]),_:1}),o(e(_),null,{default:r(()=>[o(e(m),{class:"pb-2"},{default:r(()=>[o(e(f),{class:"text-sm font-medium text-muted-foreground"},{default:r(()=>t[4]||(t[4]=[d("Upcoming Meetings",-1)])),_:1,__:[4]})]),_:1}),o(e(p),null,{default:r(()=>[s("div",_e,i(e(v).length),1)]),_:1})]),_:1})]),e(v).length>0?(l(),u("div",fe,[o(e(_),null,{default:r(()=>[o(e(m),null,{default:r(()=>[s("div",ge,[s("div",xe,[o(e(H),{class:"h-5 w-5"}),o(e(f),null,{default:r(()=>t[5]||(t[5]=[d("Upcoming Gate Meetings",-1)])),_:1,__:[5]})]),o(e(E),{variant:"outline",size:"sm",onClick:t[0]||(t[0]=n=>a.$router.push("/workflow"))},{default:r(()=>t[6]||(t[6]=[d(" View All ",-1)])),_:1,__:[6]})])]),_:1}),o(e(p),null,{default:r(()=>[s("div",ve,[(l(!0),u(h,null,y(e(v).slice(0,5),n=>(l(),u("div",{key:n.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:T=>P(n.project_id)},[s("div",ye,[s("div",ke,i(n.gate_type),1),s("div",we,i(n.project_name),1),s("div",be,i(e(M)(n.planned_date)),1)]),s("div",je,[s("span",{class:L([e(V)(n.planned_date),"px-2 py-1 rounded-full text-xs font-medium"])},i(e(C)(n.planned_date)),3),t[7]||(t[7]=s("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])],8,he))),128))])]),_:1})]),_:1})])):k("",!0)])):k("",!0)]))}});export{Re as _};
