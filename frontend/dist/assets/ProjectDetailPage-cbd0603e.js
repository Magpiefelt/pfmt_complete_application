import{d as Ze,q as et,r as U,g as Q,v as tt,s as Ye,o as k,c as E,a as n,t as S,y as oe,l as O,F as Z,h as te,x as $e,A as pe,j as G,B as H,C as X,D as De,E as pt,G as ze,b as p,i as v,e as St,w as h,z as vn}from"./index-fcefbe48.js";import{a as xt,_ as de,A as le}from"./AlbertaText-515bd883.js";import{c as zt,b as ve,_ as ye,a as be}from"./createLucideIcon-0cf0090d.js";import{_ as he,B as yn,P as $t}from"./plus-c5421d22.js";import{S as bn,_ as Te,a as Me}from"./square-pen-c2dc69ae.js";import{_ as hn,a as ke,b as Ee,T as xn}from"./TabsContent.vue_vue_type_script_setup_true_lang-2e391f12.js";import{_ as wn,a as jt}from"./ErrorMessage.vue_vue_type_script_setup_true_lang-7165bd6b.js";import{D as _n,b as At,f as Ne}from"./index-a9baa61f.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=zt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=zt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);function Ht(t,e){return function(){return t.apply(e,arguments)}}const{toString:Dn}=Object.prototype,{getPrototypeOf:wt}=Object,{iterator:nt,toStringTag:Jt}=Symbol,st=(t=>e=>{const s=Dn.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ge=t=>(t=t.toLowerCase(),e=>st(e)===t),rt=t=>e=>typeof e===t,{isArray:Re}=Array,Ue=rt("undefined");function Le(t){return t!==null&&!Ue(t)&&t.constructor!==null&&!Ue(t.constructor)&&ce(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wt=ge("ArrayBuffer");function Cn(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Wt(t.buffer),e}const Sn=rt("string"),ce=rt("function"),Gt=rt("number"),Ie=t=>t!==null&&typeof t=="object",$n=t=>t===!0||t===!1,He=t=>{if(st(t)!=="object")return!1;const e=wt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Jt in t)&&!(nt in t)},jn=t=>{if(!Ie(t)||Le(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},An=ge("Date"),Tn=ge("File"),Mn=ge("Blob"),Rn=ge("FileList"),On=t=>Ie(t)&&ce(t.pipe),Pn=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ce(t.append)&&((e=st(t))==="formdata"||e==="object"&&ce(t.toString)&&t.toString()==="[object FormData]"))},Bn=ge("URLSearchParams"),[Fn,Nn,Vn,Un]=["ReadableStream","Request","Response","Headers"].map(ge),Ln=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qe(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),Re(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(Le(t))return;const a=s?Object.getOwnPropertyNames(t):Object.keys(t),i=a.length;let d;for(r=0;r<i;r++)d=a[r],e.call(null,t[d],d,t)}}function Yt(t,e){if(Le(t))return null;e=e.toLowerCase();const s=Object.keys(t);let r=s.length,o;for(;r-- >0;)if(o=s[r],e===o.toLowerCase())return o;return null}const je=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Kt=t=>!Ue(t)&&t!==je;function mt(){const{caseless:t}=Kt(this)&&this||{},e={},s=(r,o)=>{const a=t&&Yt(e,o)||o;He(e[a])&&He(r)?e[a]=mt(e[a],r):He(r)?e[a]=mt({},r):Re(r)?e[a]=r.slice():e[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&qe(arguments[r],s);return e}const In=(t,e,s,{allOwnKeys:r}={})=>(qe(e,(o,a)=>{s&&ce(o)?t[a]=Ht(o,s):t[a]=o},{allOwnKeys:r}),t),qn=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zn=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Hn=(t,e,s,r)=>{let o,a,i;const d={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)i=o[a],(!r||r(i,t,e))&&!d[i]&&(e[i]=t[i],d[i]=!0);t=s!==!1&&wt(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Jn=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},Wn=t=>{if(!t)return null;if(Re(t))return t;let e=t.length;if(!Gt(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Gn=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&wt(Uint8Array)),Yn=(t,e)=>{const r=(t&&t[nt]).call(t);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},Kn=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},Qn=ge("HTMLFormElement"),Xn=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,o){return r.toUpperCase()+o}),Tt=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Zn=ge("RegExp"),Qt=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};qe(s,(o,a)=>{let i;(i=e(o,a,t))!==!1&&(r[a]=i||o)}),Object.defineProperties(t,r)},es=t=>{Qt(t,(e,s)=>{if(ce(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(ce(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},ts=(t,e)=>{const s={},r=o=>{o.forEach(a=>{s[a]=!0})};return Re(t)?r(t):r(String(t).split(e)),s},ns=()=>{},ss=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function rs(t){return!!(t&&ce(t.append)&&t[Jt]==="FormData"&&t[nt])}const os=t=>{const e=new Array(10),s=(r,o)=>{if(Ie(r)){if(e.indexOf(r)>=0)return;if(Le(r))return r;if(!("toJSON"in r)){e[o]=r;const a=Re(r)?[]:{};return qe(r,(i,d)=>{const x=s(i,o+1);!Ue(x)&&(a[d]=x)}),e[o]=void 0,a}}return r};return s(t,0)},as=ge("AsyncFunction"),ls=t=>t&&(Ie(t)||ce(t))&&ce(t.then)&&ce(t.catch),Xt=((t,e)=>t?setImmediate:e?((s,r)=>(je.addEventListener("message",({source:o,data:a})=>{o===je&&a===s&&r.length&&r.shift()()},!1),o=>{r.push(o),je.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ce(je.postMessage)),is=typeof queueMicrotask<"u"?queueMicrotask.bind(je):typeof process<"u"&&process.nextTick||Xt,us=t=>t!=null&&ce(t[nt]),f={isArray:Re,isArrayBuffer:Wt,isBuffer:Le,isFormData:Pn,isArrayBufferView:Cn,isString:Sn,isNumber:Gt,isBoolean:$n,isObject:Ie,isPlainObject:He,isEmptyObject:jn,isReadableStream:Fn,isRequest:Nn,isResponse:Vn,isHeaders:Un,isUndefined:Ue,isDate:An,isFile:Tn,isBlob:Mn,isRegExp:Zn,isFunction:ce,isStream:On,isURLSearchParams:Bn,isTypedArray:Gn,isFileList:Rn,forEach:qe,merge:mt,extend:In,trim:Ln,stripBOM:qn,inherits:zn,toFlatObject:Hn,kindOf:st,kindOfTest:ge,endsWith:Jn,toArray:Wn,forEachEntry:Yn,matchAll:Kn,isHTMLForm:Qn,hasOwnProperty:Tt,hasOwnProp:Tt,reduceDescriptors:Qt,freezeMethods:es,toObjectSet:ts,toCamelCase:Xn,noop:ns,toFiniteNumber:ss,findKey:Yt,global:je,isContextDefined:Kt,isSpecCompliantForm:rs,toJSONObject:os,isAsyncFn:as,isThenable:ls,setImmediate:Xt,asap:is,isIterable:us};function L(t,e,s,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}f.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const Zt=L.prototype,en={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{en[t]={value:t}});Object.defineProperties(L,en);Object.defineProperty(Zt,"isAxiosError",{value:!0});L.from=(t,e,s,r,o,a)=>{const i=Object.create(Zt);return f.toFlatObject(t,i,function(x){return x!==Error.prototype},d=>d!=="isAxiosError"),L.call(i,t.message,e,s,r,o),i.cause=t,i.name=t.name,a&&Object.assign(i,a),i};const ds=null;function gt(t){return f.isPlainObject(t)||f.isArray(t)}function tn(t){return f.endsWith(t,"[]")?t.slice(0,-2):t}function Mt(t,e,s){return t?t.concat(e).map(function(o,a){return o=tn(o),!s&&a?"["+o+"]":o}).join(s?".":""):e}function cs(t){return f.isArray(t)&&!t.some(gt)}const fs=f.toFlatObject(f,{},null,function(e){return/^is[A-Z]/.test(e)});function ot(t,e,s){if(!f.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=f.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,A){return!f.isUndefined(A[R])});const r=s.metaTokens,o=s.visitor||g,a=s.dots,i=s.indexes,x=(s.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(e);if(!f.isFunction(o))throw new TypeError("visitor must be a function");function y(M){if(M===null)return"";if(f.isDate(M))return M.toISOString();if(f.isBoolean(M))return M.toString();if(!x&&f.isBlob(M))throw new L("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(M)||f.isTypedArray(M)?x&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function g(M,R,A){let J=M;if(M&&!A&&typeof M=="object"){if(f.endsWith(R,"{}"))R=r?R:R.slice(0,-2),M=JSON.stringify(M);else if(f.isArray(M)&&cs(M)||(f.isFileList(M)||f.endsWith(R,"[]"))&&(J=f.toArray(M)))return R=tn(R),J.forEach(function(z,q){!(f.isUndefined(z)||z===null)&&e.append(i===!0?Mt([R],q,a):i===null?R:R+"[]",y(z))}),!1}return gt(M)?!0:(e.append(Mt(A,R,a),y(M)),!1)}const D=[],N=Object.assign(fs,{defaultVisitor:g,convertValue:y,isVisitable:gt});function I(M,R){if(!f.isUndefined(M)){if(D.indexOf(M)!==-1)throw Error("Circular reference detected in "+R.join("."));D.push(M),f.forEach(M,function(J,B){(!(f.isUndefined(J)||J===null)&&o.call(e,J,f.isString(B)?B.trim():B,R,N))===!0&&I(J,R?R.concat(B):[B])}),D.pop()}}if(!f.isObject(t))throw new TypeError("data must be an object");return I(t),e}function Rt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function _t(t,e){this._pairs=[],t&&ot(t,this,e)}const nn=_t.prototype;nn.append=function(e,s){this._pairs.push([e,s])};nn.toString=function(e){const s=e?function(r){return e.call(this,r,Rt)}:Rt;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function ps(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sn(t,e,s){if(!e)return t;const r=s&&s.encode||ps;f.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let a;if(o?a=o(e,s):a=f.isURLSearchParams(e)?e.toString():new _t(e,s).toString(r),a){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class ms{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){f.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Ot=ms,rn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gs=typeof URLSearchParams<"u"?URLSearchParams:_t,vs=typeof FormData<"u"?FormData:null,ys=typeof Blob<"u"?Blob:null,bs={isBrowser:!0,classes:{URLSearchParams:gs,FormData:vs,Blob:ys},protocols:["http","https","file","blob","url","data"]},kt=typeof window<"u"&&typeof document<"u",vt=typeof navigator=="object"&&navigator||void 0,hs=kt&&(!vt||["ReactNative","NativeScript","NS"].indexOf(vt.product)<0),xs=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ws=kt&&window.location.href||"http://localhost",_s=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:kt,hasStandardBrowserEnv:hs,hasStandardBrowserWebWorkerEnv:xs,navigator:vt,origin:ws},Symbol.toStringTag,{value:"Module"})),ue={..._s,...bs};function ks(t,e){return ot(t,new ue.classes.URLSearchParams,{visitor:function(s,r,o,a){return ue.isNode&&f.isBuffer(s)?(this.append(r,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function Es(t){return f.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ds(t){const e={},s=Object.keys(t);let r;const o=s.length;let a;for(r=0;r<o;r++)a=s[r],e[a]=t[a];return e}function on(t){function e(s,r,o,a){let i=s[a++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),x=a>=s.length;return i=!i&&f.isArray(o)?o.length:i,x?(f.hasOwnProp(o,i)?o[i]=[o[i],r]:o[i]=r,!d):((!o[i]||!f.isObject(o[i]))&&(o[i]=[]),e(s,r,o[i],a)&&f.isArray(o[i])&&(o[i]=Ds(o[i])),!d)}if(f.isFormData(t)&&f.isFunction(t.entries)){const s={};return f.forEachEntry(t,(r,o)=>{e(Es(r),o,s,0)}),s}return null}function Cs(t,e,s){if(f.isString(t))try{return(e||JSON.parse)(t),f.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const Et={transitional:rn,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",o=r.indexOf("application/json")>-1,a=f.isObject(e);if(a&&f.isHTMLForm(e)&&(e=new FormData(e)),f.isFormData(e))return o?JSON.stringify(on(e)):e;if(f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isFile(e)||f.isBlob(e)||f.isReadableStream(e))return e;if(f.isArrayBufferView(e))return e.buffer;if(f.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ks(e,this.formSerializer).toString();if((d=f.isFileList(e))||r.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return ot(d?{"files[]":e}:e,x&&new x,this.formSerializer)}}return a||o?(s.setContentType("application/json",!1),Cs(e)):e}],transformResponse:[function(e){const s=this.transitional||Et.transitional,r=s&&s.forcedJSONParsing,o=this.responseType==="json";if(f.isResponse(e)||f.isReadableStream(e))return e;if(e&&f.isString(e)&&(r&&!this.responseType||o)){const i=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(i)throw d.name==="SyntaxError"?L.from(d,L.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],t=>{Et.headers[t]={}});const Dt=Et,Ss=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$s=t=>{const e={};let s,r,o;return t&&t.split(`
`).forEach(function(i){o=i.indexOf(":"),s=i.substring(0,o).trim().toLowerCase(),r=i.substring(o+1).trim(),!(!s||e[s]&&Ss[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},Pt=Symbol("internals");function Ve(t){return t&&String(t).trim().toLowerCase()}function Je(t){return t===!1||t==null?t:f.isArray(t)?t.map(Je):String(t)}function js(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const As=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dt(t,e,s,r,o){if(f.isFunction(r))return r.call(this,e,s);if(o&&(e=s),!!f.isString(e)){if(f.isString(r))return e.indexOf(r)!==-1;if(f.isRegExp(r))return r.test(e)}}function Ts(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function Ms(t,e){const s=f.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(o,a,i){return this[r].call(this,e,o,a,i)},configurable:!0})})}class at{constructor(e){e&&this.set(e)}set(e,s,r){const o=this;function a(d,x,y){const g=Ve(x);if(!g)throw new Error("header name must be a non-empty string");const D=f.findKey(o,g);(!D||o[D]===void 0||y===!0||y===void 0&&o[D]!==!1)&&(o[D||x]=Je(d))}const i=(d,x)=>f.forEach(d,(y,g)=>a(y,g,x));if(f.isPlainObject(e)||e instanceof this.constructor)i(e,s);else if(f.isString(e)&&(e=e.trim())&&!As(e))i($s(e),s);else if(f.isObject(e)&&f.isIterable(e)){let d={},x,y;for(const g of e){if(!f.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[y=g[0]]=(x=d[y])?f.isArray(x)?[...x,g[1]]:[x,g[1]]:g[1]}i(d,s)}else e!=null&&a(s,e,r);return this}get(e,s){if(e=Ve(e),e){const r=f.findKey(this,e);if(r){const o=this[r];if(!s)return o;if(s===!0)return js(o);if(f.isFunction(s))return s.call(this,o,r);if(f.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Ve(e),e){const r=f.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||dt(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let o=!1;function a(i){if(i=Ve(i),i){const d=f.findKey(r,i);d&&(!s||dt(r,r[d],d,s))&&(delete r[d],o=!0)}}return f.isArray(e)?e.forEach(a):a(e),o}clear(e){const s=Object.keys(this);let r=s.length,o=!1;for(;r--;){const a=s[r];(!e||dt(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const s=this,r={};return f.forEach(this,(o,a)=>{const i=f.findKey(r,a);if(i){s[i]=Je(o),delete s[a];return}const d=e?Ts(a):String(a).trim();d!==a&&delete s[a],s[d]=Je(o),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return f.forEach(this,(r,o)=>{r!=null&&r!==!1&&(s[o]=e&&f.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Pt]=this[Pt]={accessors:{}}).accessors,o=this.prototype;function a(i){const d=Ve(i);r[d]||(Ms(o,i),r[d]=!0)}return f.isArray(e)?e.forEach(a):a(e),this}}at.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(at.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});f.freezeMethods(at);const me=at;function ct(t,e){const s=this||Dt,r=e||s,o=me.from(r.headers);let a=r.data;return f.forEach(t,function(d){a=d.call(s,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function an(t){return!!(t&&t.__CANCEL__)}function Oe(t,e,s){L.call(this,t??"canceled",L.ERR_CANCELED,e,s),this.name="CanceledError"}f.inherits(Oe,L,{__CANCEL__:!0});function ln(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new L("Request failed with status code "+s.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Rs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Os(t,e){t=t||10;const s=new Array(t),r=new Array(t);let o=0,a=0,i;return e=e!==void 0?e:1e3,function(x){const y=Date.now(),g=r[a];i||(i=y),s[o]=x,r[o]=y;let D=a,N=0;for(;D!==o;)N+=s[D++],D=D%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),y-i<e)return;const I=g&&y-g;return I?Math.round(N*1e3/I):void 0}}function Ps(t,e){let s=0,r=1e3/e,o,a;const i=(y,g=Date.now())=>{s=g,o=null,a&&(clearTimeout(a),a=null),t(...y)};return[(...y)=>{const g=Date.now(),D=g-s;D>=r?i(y,g):(o=y,a||(a=setTimeout(()=>{a=null,i(o)},r-D)))},()=>o&&i(o)]}const Ke=(t,e,s=3)=>{let r=0;const o=Os(50,250);return Ps(a=>{const i=a.loaded,d=a.lengthComputable?a.total:void 0,x=i-r,y=o(x),g=i<=d;r=i;const D={loaded:i,total:d,progress:d?i/d:void 0,bytes:x,rate:y||void 0,estimated:y&&d&&g?(d-i)/y:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(D)},s)},Bt=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},Ft=t=>(...e)=>f.asap(()=>t(...e)),Bs=ue.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,ue.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,Fs=ue.hasStandardBrowserEnv?{write(t,e,s,r,o,a){const i=[t+"="+encodeURIComponent(e)];f.isNumber(s)&&i.push("expires="+new Date(s).toGMTString()),f.isString(r)&&i.push("path="+r),f.isString(o)&&i.push("domain="+o),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ns(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Vs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function un(t,e,s){let r=!Ns(e);return t&&(r||s==!1)?Vs(t,e):e}const Nt=t=>t instanceof me?{...t}:t;function Ae(t,e){e=e||{};const s={};function r(y,g,D,N){return f.isPlainObject(y)&&f.isPlainObject(g)?f.merge.call({caseless:N},y,g):f.isPlainObject(g)?f.merge({},g):f.isArray(g)?g.slice():g}function o(y,g,D,N){if(f.isUndefined(g)){if(!f.isUndefined(y))return r(void 0,y,D,N)}else return r(y,g,D,N)}function a(y,g){if(!f.isUndefined(g))return r(void 0,g)}function i(y,g){if(f.isUndefined(g)){if(!f.isUndefined(y))return r(void 0,y)}else return r(void 0,g)}function d(y,g,D){if(D in e)return r(y,g);if(D in t)return r(void 0,y)}const x={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(y,g,D)=>o(Nt(y),Nt(g),D,!0)};return f.forEach(Object.keys({...t,...e}),function(g){const D=x[g]||o,N=D(t[g],e[g],g);f.isUndefined(N)&&D!==d||(s[g]=N)}),s}const dn=t=>{const e=Ae({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:d}=e;e.headers=i=me.from(i),e.url=sn(un(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let x;if(f.isFormData(s)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((x=i.getContentType())!==!1){const[y,...g]=x?x.split(";").map(D=>D.trim()).filter(Boolean):[];i.setContentType([y||"multipart/form-data",...g].join("; "))}}if(ue.hasStandardBrowserEnv&&(r&&f.isFunction(r)&&(r=r(e)),r||r!==!1&&Bs(e.url))){const y=o&&a&&Fs.read(a);y&&i.set(o,y)}return e},Us=typeof XMLHttpRequest<"u",Ls=Us&&function(t){return new Promise(function(s,r){const o=dn(t);let a=o.data;const i=me.from(o.headers).normalize();let{responseType:d,onUploadProgress:x,onDownloadProgress:y}=o,g,D,N,I,M;function R(){I&&I(),M&&M(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(o.method.toUpperCase(),o.url,!0),A.timeout=o.timeout;function J(){if(!A)return;const z=me.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),Y={data:!d||d==="text"||d==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:z,config:t,request:A};ln(function(ee){s(ee),R()},function(ee){r(ee),R()},Y),A=null}"onloadend"in A?A.onloadend=J:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(J)},A.onabort=function(){A&&(r(new L("Request aborted",L.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new L("Network Error",L.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const Y=o.transitional||rn;o.timeoutErrorMessage&&(q=o.timeoutErrorMessage),r(new L(q,Y.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,t,A)),A=null},a===void 0&&i.setContentType(null),"setRequestHeader"in A&&f.forEach(i.toJSON(),function(q,Y){A.setRequestHeader(Y,q)}),f.isUndefined(o.withCredentials)||(A.withCredentials=!!o.withCredentials),d&&d!=="json"&&(A.responseType=o.responseType),y&&([N,M]=Ke(y,!0),A.addEventListener("progress",N)),x&&A.upload&&([D,I]=Ke(x),A.upload.addEventListener("progress",D),A.upload.addEventListener("loadend",I)),(o.cancelToken||o.signal)&&(g=z=>{A&&(r(!z||z.type?new Oe(null,t,A):z),A.abort(),A=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const B=Rs(o.url);if(B&&ue.protocols.indexOf(B)===-1){r(new L("Unsupported protocol "+B+":",L.ERR_BAD_REQUEST,t));return}A.send(a||null)})},Is=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,o;const a=function(y){if(!o){o=!0,d();const g=y instanceof Error?y:this.reason;r.abort(g instanceof L?g:new Oe(g instanceof Error?g.message:g))}};let i=e&&setTimeout(()=>{i=null,a(new L(`timeout ${e} of ms exceeded`,L.ETIMEDOUT))},e);const d=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(y=>{y.unsubscribe?y.unsubscribe(a):y.removeEventListener("abort",a)}),t=null)};t.forEach(y=>y.addEventListener("abort",a));const{signal:x}=r;return x.unsubscribe=()=>f.asap(d),x}},qs=Is,zs=function*(t,e){let s=t.byteLength;if(!e||s<e){yield t;return}let r=0,o;for(;r<s;)o=r+e,yield t.slice(r,o),r=o},Hs=async function*(t,e){for await(const s of Js(t))yield*zs(s,e)},Js=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},Vt=(t,e,s,r)=>{const o=Hs(t,e);let a=0,i,d=x=>{i||(i=!0,r&&r(x))};return new ReadableStream({async pull(x){try{const{done:y,value:g}=await o.next();if(y){d(),x.close();return}let D=g.byteLength;if(s){let N=a+=D;s(N)}x.enqueue(new Uint8Array(g))}catch(y){throw d(y),y}},cancel(x){return d(x),o.return()}},{highWaterMark:2})},lt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cn=lt&&typeof ReadableStream=="function",Ws=lt&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fn=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Gs=cn&&fn(()=>{let t=!1;const e=new Request(ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ut=64*1024,yt=cn&&fn(()=>f.isReadableStream(new Response("").body)),Qe={stream:yt&&(t=>t.body)};lt&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Qe[e]&&(Qe[e]=f.isFunction(t[e])?s=>s[e]():(s,r)=>{throw new L(`Response type '${e}' is not supported`,L.ERR_NOT_SUPPORT,r)})})})(new Response);const Ys=async t=>{if(t==null)return 0;if(f.isBlob(t))return t.size;if(f.isSpecCompliantForm(t))return(await new Request(ue.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(f.isArrayBufferView(t)||f.isArrayBuffer(t))return t.byteLength;if(f.isURLSearchParams(t)&&(t=t+""),f.isString(t))return(await Ws(t)).byteLength},Ks=async(t,e)=>{const s=f.toFiniteNumber(t.getContentLength());return s??Ys(e)},Qs=lt&&(async t=>{let{url:e,method:s,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:d,onUploadProgress:x,responseType:y,headers:g,withCredentials:D="same-origin",fetchOptions:N}=dn(t);y=y?(y+"").toLowerCase():"text";let I=qs([o,a&&a.toAbortSignal()],i),M;const R=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let A;try{if(x&&Gs&&s!=="get"&&s!=="head"&&(A=await Ks(g,r))!==0){let Y=new Request(e,{method:"POST",body:r,duplex:"half"}),ne;if(f.isFormData(r)&&(ne=Y.headers.get("content-type"))&&g.setContentType(ne),Y.body){const[ee,V]=Bt(A,Ke(Ft(x)));r=Vt(Y.body,Ut,ee,V)}}f.isString(D)||(D=D?"include":"omit");const J="credentials"in Request.prototype;M=new Request(e,{...N,signal:I,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:J?D:void 0});let B=await fetch(M,N);const z=yt&&(y==="stream"||y==="response");if(yt&&(d||z&&R)){const Y={};["status","statusText","headers"].forEach(u=>{Y[u]=B[u]});const ne=f.toFiniteNumber(B.headers.get("content-length")),[ee,V]=d&&Bt(ne,Ke(Ft(d),!0))||[];B=new Response(Vt(B.body,Ut,ee,()=>{V&&V(),R&&R()}),Y)}y=y||"text";let q=await Qe[f.findKey(Qe,y)||"text"](B,t);return!z&&R&&R(),await new Promise((Y,ne)=>{ln(Y,ne,{data:q,headers:me.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:M})})}catch(J){throw R&&R(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new L("Network Error",L.ERR_NETWORK,t,M),{cause:J.cause||J}):L.from(J,J&&J.code,t,M)}}),bt={http:ds,xhr:Ls,fetch:Qs};f.forEach(bt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Lt=t=>`- ${t}`,Xs=t=>f.isFunction(t)||t===null||t===!1,pn={getAdapter:t=>{t=f.isArray(t)?t:[t];const{length:e}=t;let s,r;const o={};for(let a=0;a<e;a++){s=t[a];let i;if(r=s,!Xs(s)&&(r=bt[(i=String(s)).toLowerCase()],r===void 0))throw new L(`Unknown adapter '${i}'`);if(r)break;o[i||"#"+a]=r}if(!r){const a=Object.entries(o).map(([d,x])=>`adapter ${d} `+(x===!1?"is not supported by the environment":"is not available in the build"));let i=e?a.length>1?`since :
`+a.map(Lt).join(`
`):" "+Lt(a[0]):"as no adapter specified";throw new L("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:bt};function ft(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Oe(null,t)}function It(t){return ft(t),t.headers=me.from(t.headers),t.data=ct.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pn.getAdapter(t.adapter||Dt.adapter)(t).then(function(r){return ft(t),r.data=ct.call(t,t.transformResponse,r),r.headers=me.from(r.headers),r},function(r){return an(r)||(ft(t),r&&r.response&&(r.response.data=ct.call(t,t.transformResponse,r.response),r.response.headers=me.from(r.response.headers))),Promise.reject(r)})}const mn="1.11.0",it={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{it[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qt={};it.transitional=function(e,s,r){function o(a,i){return"[Axios v"+mn+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,d)=>{if(e===!1)throw new L(o(i," has been removed"+(s?" in "+s:"")),L.ERR_DEPRECATED);return s&&!qt[i]&&(qt[i]=!0,console.warn(o(i," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(a,i,d):!0}};it.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Zs(t,e,s){if(typeof t!="object")throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const a=r[o],i=e[a];if(i){const d=t[a],x=d===void 0||i(d,a,t);if(x!==!0)throw new L("option "+a+" must be "+x,L.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new L("Unknown option "+a,L.ERR_BAD_OPTION)}}const We={assertOptions:Zs,validators:it},xe=We.validators;class Xe{constructor(e){this.defaults=e||{},this.interceptors={request:new Ot,response:new Ot}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Ae(this.defaults,s);const{transitional:r,paramsSerializer:o,headers:a}=s;r!==void 0&&We.assertOptions(r,{silentJSONParsing:xe.transitional(xe.boolean),forcedJSONParsing:xe.transitional(xe.boolean),clarifyTimeoutError:xe.transitional(xe.boolean)},!1),o!=null&&(f.isFunction(o)?s.paramsSerializer={serialize:o}:We.assertOptions(o,{encode:xe.function,serialize:xe.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),We.assertOptions(s,{baseUrl:xe.spelling("baseURL"),withXsrfToken:xe.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=a&&f.merge(a.common,a[s.method]);a&&f.forEach(["delete","get","head","post","put","patch","common"],M=>{delete a[M]}),s.headers=me.concat(i,a);const d=[];let x=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(s)===!1||(x=x&&R.synchronous,d.unshift(R.fulfilled,R.rejected))});const y=[];this.interceptors.response.forEach(function(R){y.push(R.fulfilled,R.rejected)});let g,D=0,N;if(!x){const M=[It.bind(this),void 0];for(M.unshift(...d),M.push(...y),N=M.length,g=Promise.resolve(s);D<N;)g=g.then(M[D++],M[D++]);return g}N=d.length;let I=s;for(D=0;D<N;){const M=d[D++],R=d[D++];try{I=M(I)}catch(A){R.call(this,A);break}}try{g=It.call(this,I)}catch(M){return Promise.reject(M)}for(D=0,N=y.length;D<N;)g=g.then(y[D++],y[D++]);return g}getUri(e){e=Ae(this.defaults,e);const s=un(e.baseURL,e.url,e.allowAbsoluteUrls);return sn(s,e.params,e.paramsSerializer)}}f.forEach(["delete","get","head","options"],function(e){Xe.prototype[e]=function(s,r){return this.request(Ae(r||{},{method:e,url:s,data:(r||{}).data}))}});f.forEach(["post","put","patch"],function(e){function s(r){return function(a,i,d){return this.request(Ae(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Xe.prototype[e]=s(),Xe.prototype[e+"Form"]=s(!0)});const Ge=Xe;class Ct{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const i=new Promise(d=>{r.subscribe(d),a=d}).then(o);return i.cancel=function(){r.unsubscribe(a)},i},e(function(a,i,d){r.reason||(r.reason=new Oe(a,i,d),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Ct(function(o){e=o}),cancel:e}}}const er=Ct;function tr(t){return function(s){return t.apply(null,s)}}function nr(t){return f.isObject(t)&&t.isAxiosError===!0}const ht={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ht).forEach(([t,e])=>{ht[e]=t});const sr=ht;function gn(t){const e=new Ge(t),s=Ht(Ge.prototype.request,e);return f.extend(s,Ge.prototype,e,{allOwnKeys:!0}),f.extend(s,e,null,{allOwnKeys:!0}),s.create=function(o){return gn(Ae(t,o))},s}const re=gn(Dt);re.Axios=Ge;re.CanceledError=Oe;re.CancelToken=er;re.isCancel=an;re.VERSION=mn;re.toFormData=ot;re.AxiosError=L;re.Cancel=re.CanceledError;re.all=function(e){return Promise.all(e)};re.spread=tr;re.isAxiosError=nr;re.mergeConfig=Ae;re.AxiosHeaders=me;re.formToJSON=t=>on(f.isHTMLForm(t)?new FormData(t):t);re.getAdapter=pn.getAdapter;re.HttpStatusCode=sr;re.default=re;const ie=re,rr={class:"fiscal-calendar bg-white rounded-lg shadow-lg p-6"},or={class:"calendar-header flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6"},ar={class:"header-controls flex items-center gap-4"},lr={class:"current-month text-xl font-semibold text-gray-900"},ir={class:"view-controls flex rounded-md shadow-sm"},ur={class:"action-controls flex gap-2"},dr={class:"event-legend mb-6 p-4 bg-gray-50 rounded-lg"},cr={class:"legend-items flex flex-wrap gap-3"},fr=["onClick"],pr={class:"legend-label text-sm"},mr={key:0,class:"calendar-grid"},gr={class:"calendar-header-row grid grid-cols-7 gap-px mb-2"},vr={class:"calendar-body grid grid-cols-7 gap-px bg-gray-200 rounded-lg overflow-hidden"},yr=["onClick","onDrop"],br={class:"day-events space-y-1"},hr=["title","onClick","onDragstart"],xr={key:0,class:"text-xs text-gray-500 pl-1"},wr={key:1,class:"year-view"},_r={class:"year-header mb-6"},kr={class:"text-lg font-semibold text-gray-900"},Er={class:"year-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Dr=["onClick"],Cr={class:"month-header mb-3"},Sr={class:"font-medium text-gray-900"},$r={class:"text-sm text-gray-500"},jr={class:"month-mini-calendar"},Ar={class:"mini-days grid grid-cols-7 gap-1"},Tr={class:"p-6"},Mr={class:"flex justify-between items-center mb-4"},Rr={class:"text-lg font-semibold text-gray-900"},Or={class:"grid grid-cols-2 gap-4"},Pr=["value"],Br={class:"flex justify-end gap-3 pt-4"},Fr={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},Nr={class:"p-6"},Vr={class:"flex justify-between items-start mb-4"},Ur={class:"text-lg font-semibold text-gray-900"},Lr={class:"text-sm text-gray-500"},Ir={class:"space-y-3"},qr={key:0},zr={class:"text-sm text-gray-600"},Hr={class:"text-sm text-gray-600"},Jr={key:1},Wr={class:"text-sm text-gray-600"},Gr={class:"flex justify-end gap-3 pt-6"},Yr=Ze({__name:"FiscalYearCalendar",props:{projectId:{default:void 0}},setup(t){et();const e=U(new Date),s=U("month"),r=U([]),o=U([]),a=U(new Set),i=U(!1),d=U(null),x=U(null),y=U(null),g=U(!1),D=U({title:"",description:"",start_date:"",end_date:"",event_type_id:"",priority:"medium",assigned_to:"",reporting_deadline:"",metadata:{}}),N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],I=Q(()=>e.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),M=Q(()=>e.value.getFullYear()),R=Q(()=>{const T=e.value.getFullYear(),w=e.value.getMonth(),c=new Date(T,w,1),m=new Date(T,w+1,0),b=new Date(c);b.setDate(b.getDate()-c.getDay());const F=[];let $=new Date(b);for(;$<=m||F.length===0||F[F.length-1].days.some(l=>l.isCurrentMonth);){const l={weekNumber:F.length+1,days:[]};for(let C=0;C<7;C++){const W=new Date($);W.setDate(W.getDate()+C);const ae=r.value.filter(fe=>{const Fe=new Date(fe.start_date),ut=new Date(fe.end_date);return W>=Fe&&W<=ut&&u(fe.event_type_id)});l.days.push({date:W.toISOString().split("T")[0],dayNumber:W.getDate(),isCurrentMonth:W.getMonth()===w,isToday:W.toDateString()===new Date().toDateString(),isWeekend:W.getDay()===0||W.getDay()===6,events:ae})}if(F.push(l),$.setDate($.getDate()+7),F.length>6)break}return F}),A=Q(()=>R.value.flatMap(T=>T.days)),J=Q(()=>{const T=[],w=e.value.getFullYear();for(let c=0;c<12;c++){const m=new Date(w,c,1),b=r.value.filter(C=>{const W=new Date(C.start_date);return W.getFullYear()===w&&W.getMonth()===c}),F=new Date(w,c,1),$=new Date(F);$.setDate($.getDate()-F.getDay());const l=[];for(let C=0;C<42;C++){const W=new Date($);W.setDate(W.getDate()+C);const ae=r.value.some(fe=>{const Fe=new Date(fe.start_date),ut=new Date(fe.end_date);return W>=Fe&&W<=ut});l.push({date:W.toISOString().split("T")[0],dayNumber:W.getDate(),isCurrentMonth:W.getMonth()===c,isToday:W.toDateString()===new Date().toDateString(),hasEvents:ae})}T.push({key:`${w}-${c}`,name:m.toLocaleDateString("en-US",{month:"long"}),date:m,eventCount:b.length,days:l.slice(0,35)})}return T}),B=()=>{e.value=new Date(e.value.getFullYear(),e.value.getMonth()-1,1)},z=()=>{e.value=new Date(e.value.getFullYear(),e.value.getMonth()+1,1)},q=T=>{e.value=new Date(T),s.value="month"},Y=T=>{y.value=T,T.events.length===1?ne(T.events[0]):T.events.length>1?console.log("Multiple events on this day:",T.events):(D.value.start_date=T.date,D.value.end_date=T.date,i.value=!0)},ne=T=>{d.value=T},ee=()=>{d.value=null},V=T=>{a.value.has(T)?a.value.delete(T):a.value.add(T)},u=T=>a.value.has(T),_=()=>{i.value=!1,x.value=null,P()},P=()=>{D.value={title:"",description:"",start_date:"",end_date:"",event_type_id:"",priority:"medium",assigned_to:"",reporting_deadline:"",metadata:{}}},j=T=>{x.value=T,D.value={title:T.title,description:T.description||"",start_date:T.start_date,end_date:T.end_date,event_type_id:T.event_type_id,priority:T.priority||"medium",assigned_to:T.assigned_to||"",reporting_deadline:T.reporting_deadline||"",metadata:T.metadata||{}},d.value=null,i.value=!0},se=async()=>{try{g.value=!0,x.value?await ie.put(`/api/fiscal-calendar/events/${x.value.id}`,D.value):await ie.post("/api/fiscal-calendar/events",D.value),await we(),_()}catch(T){console.error("Error saving event:",T)}finally{g.value=!1}},K=async T=>{if(confirm("Are you sure you want to delete this event?"))try{g.value=!0,await ie.delete(`/api/fiscal-calendar/events/${T.id}`),await we(),d.value=null}catch(w){console.error("Error deleting event:",w)}finally{g.value=!1}},_e=(T,w)=>{T.dataTransfer&&T.dataTransfer.setData("text/plain",JSON.stringify(w))},Pe=async(T,w)=>{if(T.dataTransfer)try{const c=JSON.parse(T.dataTransfer.getData("text/plain")),m=new Date(w.date).getTime()-new Date(c.start_date).getTime(),b=Math.floor(m/(1e3*60*60*24)),F=new Date(c.start_date);F.setDate(F.getDate()+b);const $=new Date(c.end_date);$.setDate($.getDate()+b),await ie.put(`/api/fiscal-calendar/events/${c.id}`,{...c,start_date:F.toISOString().split("T")[0],end_date:$.toISOString().split("T")[0]}),await we()}catch(c){console.error("Error moving event:",c)}},Be=async()=>{try{const T=await ie.get("/api/fiscal-calendar/export",{params:{start_date:new Date(e.value.getFullYear(),e.value.getMonth(),1).toISOString().split("T")[0],end_date:new Date(e.value.getFullYear(),e.value.getMonth()+1,0).toISOString().split("T")[0]},responseType:"blob"}),w=window.URL.createObjectURL(new Blob([T.data])),c=document.createElement("a");c.href=w,c.setAttribute("download",`fiscal-calendar-${I.value}.xlsx`),document.body.appendChild(c),c.click(),document.body.removeChild(c)}catch(T){console.error("Error exporting calendar:",T)}},Ce=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),we=async()=>{try{g.value=!0;const T=await ie.get("/api/fiscal-calendar/events",{params:{start_date:new Date(e.value.getFullYear(),0,1).toISOString().split("T")[0],end_date:new Date(e.value.getFullYear(),11,31).toISOString().split("T")[0],limit:1e3}});r.value=T.data.data||[]}catch(T){console.error("Error fetching events:",T),r.value=[]}finally{g.value=!1}},Se=async()=>{try{const T=await ie.get("/api/fiscal-calendar/event-types");o.value=T.data.data||[],o.value.forEach(w=>{a.value.add(w.id)})}catch(T){console.error("Error fetching event types:",T),o.value=[]}};return tt(async()=>{await Promise.all([we(),Se()])}),Ye(e,()=>{we()}),(T,w)=>(k(),E("div",rr,[n("div",or,[n("div",ar,[n("button",{onClick:B,class:"nav-btn p-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition-colors"},w[15]||(w[15]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),n("h2",lr,S(I.value),1),n("button",{onClick:z,class:"nav-btn p-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition-colors"},w[16]||(w[16]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),n("div",ir,[n("button",{onClick:w[0]||(w[0]=c=>s.value="month"),class:oe(["view-btn px-4 py-2 text-sm font-medium border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500",s.value==="month"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50"])}," Month View ",2),n("button",{onClick:w[1]||(w[1]=c=>s.value="year"),class:oe(["view-btn px-4 py-2 text-sm font-medium border border-gray-300 rounded-r-md border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500",s.value==="year"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50"])}," Year View ",2)]),n("div",ur,[n("button",{onClick:w[2]||(w[2]=c=>i.value=!0),class:"add-event-btn px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2"},w[17]||(w[17]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),O(" Add Event ",-1)])),n("button",{onClick:Be,class:"export-btn px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center gap-2"},w[18]||(w[18]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),O(" Export ",-1)]))])]),n("div",dr,[w[19]||(w[19]=n("div",{class:"legend-title text-sm font-medium text-gray-700 mb-3"},"Event Types:",-1)),n("div",cr,[(k(!0),E(Z,null,te(o.value,c=>(k(),E("div",{key:c.id,class:oe(["legend-item flex items-center gap-2 cursor-pointer px-3 py-1 rounded-full border transition-all",{"opacity-50":!u(c.id),"bg-white border-gray-300":u(c.id),"bg-gray-200 border-gray-200":!u(c.id)}]),onClick:m=>V(c.id)},[n("div",{class:"legend-color w-3 h-3 rounded-full",style:$e({backgroundColor:c.color})},null,4),n("span",pr,S(c.name),1)],10,fr))),128))])]),s.value==="month"?(k(),E("div",mr,[n("div",gr,[(k(),E(Z,null,te(N,c=>n("div",{key:c,class:"day-header p-2 text-center text-sm font-medium text-gray-700 bg-gray-100 rounded"},S(c),1)),64))]),n("div",vr,[(k(!0),E(Z,null,te(A.value,c=>(k(),E("div",{key:c.date,class:oe(["calendar-day min-h-[120px] bg-white p-2 cursor-pointer hover:bg-gray-50 transition-colors",{"opacity-50":!c.isCurrentMonth,"bg-blue-50 border-2 border-blue-200":c.isToday,"bg-yellow-50":c.isWeekend&&c.isCurrentMonth,"border-l-4 border-l-green-500":c.events.length>0}]),onClick:m=>Y(c),onDrop:m=>Pe(m,c),onDragover:w[3]||(w[3]=pe(()=>{},["prevent"])),onDragenter:w[4]||(w[4]=pe(()=>{},["prevent"]))},[n("div",{class:oe(["day-number text-sm font-medium mb-1",{"text-gray-400":!c.isCurrentMonth,"text-blue-600 font-bold":c.isToday,"text-gray-900":c.isCurrentMonth&&!c.isToday}])},S(c.dayNumber),3),n("div",br,[(k(!0),E(Z,null,te(c.events.slice(0,3),m=>(k(),E("div",{key:m.id,class:"event-item text-xs p-1 rounded cursor-pointer truncate",style:$e({backgroundColor:m.color+"20",borderLeft:`3px solid ${m.color}`}),title:m.title,onClick:pe(b=>ne(m),["stop"]),draggable:"true",onDragstart:b=>_e(b,m)},S(m.title),45,hr))),128)),c.events.length>3?(k(),E("div",xr," +"+S(c.events.length-3)+" more ",1)):G("",!0)])],42,yr))),128))])])):s.value==="year"?(k(),E("div",wr,[n("div",_r,[n("h3",kr,S(M.value)+" Fiscal Year Overview",1)]),n("div",Er,[(k(!0),E(Z,null,te(J.value,c=>(k(),E("div",{key:c.key,class:"month-card bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:m=>q(c.date)},[n("div",Cr,[n("h4",Sr,S(c.name),1),n("p",$r,S(c.eventCount)+" events",1)]),n("div",jr,[n("div",Ar,[(k(!0),E(Z,null,te(c.days,m=>(k(),E("div",{key:m.date,class:oe(["mini-day w-6 h-6 text-xs flex items-center justify-center rounded",{"bg-gray-100 text-gray-400":!m.isCurrentMonth,"bg-blue-100 text-blue-800":m.hasEvents,"bg-blue-600 text-white":m.isToday,"text-gray-700":m.isCurrentMonth&&!m.hasEvents&&!m.isToday}])},S(m.dayNumber),3))),128))])])],8,Dr))),128))])])):G("",!0),i.value?(k(),E("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:_},[n("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:w[11]||(w[11]=pe(()=>{},["stop"]))},[n("div",Tr,[n("div",Mr,[n("h3",Rr,S(x.value?"Edit Event":"Add New Event"),1),n("button",{onClick:_,class:"text-gray-400 hover:text-gray-600"},w[20]||(w[20]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("form",{onSubmit:pe(se,["prevent"]),class:"space-y-4"},[n("div",null,[w[21]||(w[21]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Event Title",-1)),H(n("input",{"onUpdate:modelValue":w[5]||(w[5]=c=>D.value.title=c),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event title"},null,512),[[X,D.value.title]])]),n("div",null,[w[22]||(w[22]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),H(n("textarea",{"onUpdate:modelValue":w[6]||(w[6]=c=>D.value.description=c),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event description"},null,512),[[X,D.value.description]])]),n("div",Or,[n("div",null,[w[23]||(w[23]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),H(n("input",{"onUpdate:modelValue":w[7]||(w[7]=c=>D.value.start_date=c),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[X,D.value.start_date]])]),n("div",null,[w[24]||(w[24]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),H(n("input",{"onUpdate:modelValue":w[8]||(w[8]=c=>D.value.end_date=c),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[X,D.value.end_date]])])]),n("div",null,[w[26]||(w[26]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Event Type",-1)),H(n("select",{"onUpdate:modelValue":w[9]||(w[9]=c=>D.value.event_type_id=c),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[w[25]||(w[25]=n("option",{value:""},"Select event type",-1)),(k(!0),E(Z,null,te(o.value,c=>(k(),E("option",{key:c.id,value:c.id},S(c.name),9,Pr))),128))],512),[[De,D.value.event_type_id]])]),n("div",null,[w[28]||(w[28]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Priority",-1)),H(n("select",{"onUpdate:modelValue":w[10]||(w[10]=c=>D.value.priority=c),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},w[27]||(w[27]=[n("option",{value:"low"},"Low",-1),n("option",{value:"medium"},"Medium",-1),n("option",{value:"high"},"High",-1)]),512),[[De,D.value.priority]])]),n("div",Br,[n("button",{type:"button",onClick:_,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Cancel "),n("button",Fr,S(x.value?"Update Event":"Create Event"),1)])],32)])])])):G("",!0),d.value?(k(),E("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ee},[n("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:w[14]||(w[14]=pe(()=>{},["stop"]))},[n("div",Nr,[n("div",Vr,[n("div",null,[n("h3",Ur,S(d.value.title),1),n("p",Lr,S(d.value.event_type_name),1)]),n("button",{onClick:ee,class:"text-gray-400 hover:text-gray-600"},w[29]||(w[29]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("div",Ir,[d.value.description?(k(),E("div",qr,[w[30]||(w[30]=n("p",{class:"text-sm font-medium text-gray-700"},"Description:",-1)),n("p",zr,S(d.value.description),1)])):G("",!0),n("div",null,[w[31]||(w[31]=n("p",{class:"text-sm font-medium text-gray-700"},"Date Range:",-1)),n("p",Hr,S(Ce(d.value.start_date))+" - "+S(Ce(d.value.end_date)),1)]),n("div",null,[w[32]||(w[32]=n("p",{class:"text-sm font-medium text-gray-700"},"Priority:",-1)),n("span",{class:oe(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-red-100 text-red-800":d.value.priority==="high","bg-yellow-100 text-yellow-800":d.value.priority==="medium","bg-green-100 text-green-800":d.value.priority==="low"}])},S(d.value.priority),3)]),d.value.assigned_to_name?(k(),E("div",Jr,[w[33]||(w[33]=n("p",{class:"text-sm font-medium text-gray-700"},"Assigned To:",-1)),n("p",Wr,S(d.value.assigned_to_name),1)])):G("",!0)]),n("div",Gr,[n("button",{onClick:w[12]||(w[12]=c=>j(d.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Edit Event "),n("button",{onClick:w[13]||(w[13]=c=>K(d.value)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"}," Delete Event ")])])])])):G("",!0)]))}});const Kr=xt(Yr,[["__scopeId","data-v-edb4ac9d"]]),Qr={class:"pmi-calendar bg-white rounded-lg shadow-lg p-6"},Xr={class:"calendar-header flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6"},Zr={class:"header-controls flex items-center gap-4"},eo={class:"date-navigation flex items-center gap-2"},to={class:"current-period text-sm font-medium text-gray-900 min-w-[120px] text-center"},no={class:"view-selector"},so={class:"event-categories mb-6 p-4 bg-gray-50 rounded-lg"},ro={class:"categories-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},oo=["checked","onChange"],ao={class:"flex items-center gap-2 flex-1"},lo={class:"text-sm"},io={class:"calendar-content"},uo={key:0,class:"month-view"},co={class:"month-header grid grid-cols-7 gap-px mb-2"},fo={class:"month-grid grid grid-cols-7 gap-px bg-gray-200 rounded-lg overflow-hidden"},po=["onClick"],mo={class:"day-events space-y-1"},go=["title","onClick"],vo={key:0,class:"text-xs text-gray-500 pl-1"},yo={key:1,class:"quarter-view"},bo={class:"quarter-header mb-4"},ho={class:"text-lg font-semibold text-gray-900"},xo={class:"quarter-months grid grid-cols-1 md:grid-cols-3 gap-6"},wo={class:"month-header mb-3"},_o={class:"font-medium text-gray-900"},ko={class:"text-sm text-gray-500"},Eo={class:"month-events space-y-2"},Do=["onClick"],Co={class:"flex-1 min-w-0"},So={class:"text-sm font-medium text-gray-900 truncate"},$o={class:"text-xs text-gray-500"},jo={key:0,class:"text-xs text-gray-500 pl-4"},Ao={key:2,class:"year-view"},To={class:"year-header mb-6"},Mo={class:"text-lg font-semibold text-gray-900"},Ro={class:"year-stats flex gap-6 mt-2 text-sm text-gray-600"},Oo={class:"year-timeline"},Po={class:"timeline-months grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Bo=["onClick"],Fo={class:"month-header mb-3"},No={class:"font-medium text-gray-900"},Vo={class:"flex justify-between text-xs text-gray-500"},Uo={class:"month-progress mb-3"},Lo={class:"w-full bg-gray-200 rounded-full h-2"},Io={class:"month-categories flex flex-wrap gap-1"},qo=["title"],zo={class:"p-6"},Ho={class:"flex justify-between items-center mb-4"},Jo={class:"text-lg font-semibold text-gray-900"},Wo={class:"grid grid-cols-2 gap-4"},Go=["value"],Yo={class:"grid grid-cols-2 gap-4"},Ko={class:"flex justify-end gap-3 pt-4"},Qo={type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},Xo={class:"p-6"},Zo={class:"flex justify-between items-start mb-4"},ea={class:"text-lg font-semibold text-gray-900"},ta={class:"text-sm text-gray-500"},na={class:"space-y-3"},sa={key:0},ra={class:"text-sm text-gray-600"},oa={class:"text-sm text-gray-600"},aa={class:"flex gap-4"},la={key:1},ia={class:"text-sm text-gray-600"},ua={class:"flex justify-end gap-3 pt-6"},da=Ze({__name:"PMICalendar",setup(t){et();const e=U(new Date),s=U("month"),r=U([]),o=U([]),a=U(new Set),i=U(!1),d=U(null),x=U(null),y=U(!1),g=U({title:"",description:"",start_date:"",end_date:"",category_id:"",priority:"medium",status:"planned",location:""}),D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],N=Q(()=>s.value==="month"?e.value.toLocaleDateString("en-US",{month:"long",year:"numeric"}):s.value==="quarter"?`Q${Math.floor(e.value.getMonth()/3)+1} ${e.value.getFullYear()}`:e.value.getFullYear().toString()),I=Q(()=>`Q${Math.floor(e.value.getMonth()/3)+1} ${e.value.getFullYear()}`),M=Q(()=>e.value.getFullYear()),R=Q(()=>r.value.filter(c=>a.value.size===0||a.value.has(c.category_id))),A=Q(()=>{const c=e.value.getFullYear(),m=e.value.getMonth(),b=new Date(c,m,1),F=new Date(b);F.setDate(F.getDate()-b.getDay());const $=[];let l=new Date(F);for(let C=0;C<42;C++){const W=R.value.filter(ae=>{const fe=new Date(ae.start_date),Fe=new Date(ae.end_date);return l>=fe&&l<=Fe});$.push({date:l.toISOString().split("T")[0],dayNumber:l.getDate(),isCurrentMonth:l.getMonth()===m,isToday:l.toDateString()===new Date().toDateString(),isWeekend:l.getDay()===0||l.getDay()===6,events:W}),l=new Date(l),l.setDate(l.getDate()+1)}return $}),J=Q(()=>{const c=e.value.getFullYear(),m=Math.floor(e.value.getMonth()/3),b=[];for(let F=0;F<3;F++){const $=m*3+F,l=new Date(c,$,1),C=R.value.filter(W=>{const ae=new Date(W.start_date);return ae.getFullYear()===c&&ae.getMonth()===$});b.push({key:`${c}-${$}`,name:l.toLocaleDateString("en-US",{month:"long"}),date:l,events:C})}return b}),B=Q(()=>{const c=e.value.getFullYear(),m=[];for(let b=0;b<12;b++){const F=new Date(c,b,1),$=R.value.filter(ae=>{const fe=new Date(ae.start_date);return fe.getFullYear()===c&&fe.getMonth()===b}),l=$.filter(ae=>ae.status==="completed").length,C=$.length>0?l/$.length*100:0,W=[...new Set($.map(ae=>ae.category_id))].map(ae=>o.value.find(fe=>fe.id===ae)).filter(Boolean);m.push({key:`${c}-${b}`,name:F.toLocaleDateString("en-US",{month:"long"}),date:F,events:$,completedCount:l,progressPercentage:C,categories:W})}return m}),z=Q(()=>{const c=e.value.getFullYear();return R.value.filter(m=>new Date(m.start_date).getFullYear()===c)}),q=Q(()=>{const c=new Date;return z.value.filter(m=>new Date(m.start_date)>c&&m.status!=="cancelled")}),Y=Q(()=>z.value.filter(c=>c.status==="completed")),ne=()=>{s.value==="month"?e.value=new Date(e.value.getFullYear(),e.value.getMonth()-1,1):s.value==="quarter"?e.value=new Date(e.value.getFullYear(),e.value.getMonth()-3,1):e.value=new Date(e.value.getFullYear()-1,0,1)},ee=()=>{s.value==="month"?e.value=new Date(e.value.getFullYear(),e.value.getMonth()+1,1):s.value==="quarter"?e.value=new Date(e.value.getFullYear(),e.value.getMonth()+3,1):e.value=new Date(e.value.getFullYear()+1,0,1)},V=c=>{e.value=new Date(c),s.value="month"},u=c=>{c.events.length===1?_(c.events[0]):c.events.length>1?console.log("Multiple events on this day:",c.events):(g.value.start_date=c.date,g.value.end_date=c.date,i.value=!0)},_=c=>{d.value=c},P=()=>{d.value=null},j=c=>{a.value.has(c)?a.value.delete(c):a.value.add(c)},se=()=>{o.value.forEach(c=>{a.value.add(c.id)})},K=()=>{a.value.clear()},_e=()=>{i.value=!1,x.value=null,Pe()},Pe=()=>{g.value={title:"",description:"",start_date:"",end_date:"",category_id:"",priority:"medium",status:"planned",location:""}},Be=c=>{x.value=c,g.value={title:c.title,description:c.description||"",start_date:c.start_date,end_date:c.end_date,category_id:c.category_id,priority:c.priority||"medium",status:c.status||"planned",location:c.location||""},d.value=null,i.value=!0},Ce=async()=>{try{y.value=!0;const c={...g.value,event_type_id:g.value.category_id};x.value?await ie.put(`/api/fiscal-calendar/events/${x.value.id}`,c):await ie.post("/api/fiscal-calendar/events",c),await T(),_e()}catch(c){console.error("Error saving event:",c)}finally{y.value=!1}},we=async c=>{if(confirm("Are you sure you want to delete this event?"))try{y.value=!0,await ie.delete(`/api/fiscal-calendar/events/${c.id}`),await T(),d.value=null}catch(m){console.error("Error deleting event:",m)}finally{y.value=!1}},Se=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),T=async()=>{try{y.value=!0;const c=await ie.get("/api/fiscal-calendar/events",{params:{start_date:new Date(e.value.getFullYear(),0,1).toISOString().split("T")[0],end_date:new Date(e.value.getFullYear(),11,31).toISOString().split("T")[0],limit:1e3}});r.value=(c.data.data||[]).map(m=>{const b=o.value.find(F=>F.id===m.event_type_id);return{...m,category_id:m.event_type_id,category_name:(b==null?void 0:b.name)||"Unknown",category_color:(b==null?void 0:b.color)||"#6B7280"}})}catch(c){console.error("Error fetching events:",c),r.value=[]}finally{y.value=!1}},w=async()=>{try{o.value=[{id:"1",name:"Training & Certification",color:"#3B82F6"},{id:"2",name:"Chapter Meetings",color:"#10B981"},{id:"3",name:"Professional Development",color:"#F59E0B"},{id:"4",name:"Networking Events",color:"#EF4444"},{id:"5",name:"Workshops & Seminars",color:"#8B5CF6"},{id:"6",name:"Conferences",color:"#06B6D4"},{id:"7",name:"Volunteer Activities",color:"#84CC16"},{id:"8",name:"Mentorship Programs",color:"#F97316"}],o.value.forEach(c=>{a.value.add(c.id)})}catch(c){console.error("Error fetching PMI categories:",c)}};return tt(async()=>{await w(),await T()}),Ye(e,()=>{T()}),(c,m)=>(k(),E("div",Qr,[n("div",Xr,[m[18]||(m[18]=pt('<div class="header-info" data-v-3cc55963><h3 class="text-xl font-semibold text-gray-900 flex items-center gap-2" data-v-3cc55963><svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-3cc55963><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-3cc55963></path></svg> PMI Calendar </h3><p class="text-sm text-gray-600 mt-1" data-v-3cc55963>Project Management Institute Events &amp; Milestones</p></div>',1)),n("div",Zr,[n("div",eo,[n("button",{onClick:ne,class:"nav-btn p-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition-colors"},m[14]||(m[14]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),n("span",to,S(N.value),1),n("button",{onClick:ee,class:"nav-btn p-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 transition-colors"},m[15]||(m[15]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),n("div",no,[H(n("select",{"onUpdate:modelValue":m[0]||(m[0]=b=>s.value=b),class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},m[16]||(m[16]=[n("option",{value:"month"},"Month View",-1),n("option",{value:"quarter"},"Quarter View",-1),n("option",{value:"year"},"Year View",-1)]),512),[[De,s.value]])]),n("button",{onClick:m[1]||(m[1]=b=>i.value=!0),class:"add-event-btn px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2 text-sm"},m[17]||(m[17]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),O(" Add Event ",-1)]))])]),n("div",so,[n("div",{class:"categories-header flex justify-between items-center mb-3"},[m[19]||(m[19]=n("h4",{class:"text-sm font-medium text-gray-700"},"PMI Event Categories",-1)),n("div",{class:"filter-actions flex gap-2"},[n("button",{onClick:se,class:"text-xs text-blue-600 hover:text-blue-800"}," Select All "),n("button",{onClick:K,class:"text-xs text-gray-600 hover:text-gray-800"}," Clear All ")])]),n("div",ro,[(k(!0),E(Z,null,te(o.value,b=>(k(),E("label",{key:b.id,class:oe(["category-filter flex items-center gap-2 cursor-pointer p-2 rounded border transition-all",{"bg-white border-blue-300 shadow-sm":a.value.has(b.id),"bg-gray-100 border-gray-200":!a.value.has(b.id)}])},[n("input",{type:"checkbox",checked:a.value.has(b.id),onChange:F=>j(b.id),class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,oo),n("div",ao,[n("div",{class:"w-3 h-3 rounded-full",style:$e({backgroundColor:b.color})},null,4),n("span",lo,S(b.name),1)])],2))),128))])]),n("div",io,[s.value==="month"?(k(),E("div",uo,[n("div",co,[(k(),E(Z,null,te(D,b=>n("div",{key:b,class:"day-header p-3 text-center text-sm font-medium text-gray-700 bg-gray-100 rounded"},S(b),1)),64))]),n("div",fo,[(k(!0),E(Z,null,te(A.value,b=>(k(),E("div",{key:b.date,class:oe(["calendar-day min-h-[100px] bg-white p-2 cursor-pointer hover:bg-gray-50 transition-colors",{"opacity-50":!b.isCurrentMonth,"bg-blue-50 border-2 border-blue-200":b.isToday,"bg-yellow-50":b.isWeekend&&b.isCurrentMonth}]),onClick:F=>u(b)},[n("div",{class:oe(["day-number text-sm font-medium mb-1",{"text-gray-400":!b.isCurrentMonth,"text-blue-600 font-bold":b.isToday,"text-gray-900":b.isCurrentMonth&&!b.isToday}])},S(b.dayNumber),3),n("div",mo,[(k(!0),E(Z,null,te(b.events.slice(0,2),F=>(k(),E("div",{key:F.id,class:"event-item text-xs p-1 rounded cursor-pointer truncate",style:$e({backgroundColor:F.category_color+"20",borderLeft:`3px solid ${F.category_color}`}),title:`${F.title} - ${F.category_name}`,onClick:pe($=>_(F),["stop"])},S(F.title),13,go))),128)),b.events.length>2?(k(),E("div",vo," +"+S(b.events.length-2)+" more ",1)):G("",!0)])],10,po))),128))])])):s.value==="quarter"?(k(),E("div",yo,[n("div",bo,[n("h4",ho,S(I.value)+" Overview ",1)]),n("div",xo,[(k(!0),E(Z,null,te(J.value,b=>(k(),E("div",{key:b.key,class:"month-summary bg-white border border-gray-200 rounded-lg p-4"},[n("div",wo,[n("h5",_o,S(b.name),1),n("p",ko,S(b.events.length)+" events",1)]),n("div",Eo,[(k(!0),E(Z,null,te(b.events.slice(0,5),F=>(k(),E("div",{key:F.id,class:"event-summary flex items-center gap-2 p-2 bg-gray-50 rounded cursor-pointer hover:bg-gray-100 transition-colors",onClick:$=>_(F)},[n("div",{class:"w-2 h-2 rounded-full flex-shrink-0",style:$e({backgroundColor:F.category_color})},null,4),n("div",Co,[n("div",So,S(F.title),1),n("div",$o,S(Se(F.date)),1)])],8,Do))),128)),b.events.length>5?(k(),E("div",jo," +"+S(b.events.length-5)+" more events ",1)):G("",!0)])]))),128))])])):s.value==="year"?(k(),E("div",Ao,[n("div",To,[n("h4",Mo,S(M.value)+" PMI Calendar Overview",1),n("div",Ro,[n("span",null,"Total Events: "+S(z.value.length),1),n("span",null,"Upcoming: "+S(q.value.length),1),n("span",null,"Completed: "+S(Y.value.length),1)])]),n("div",Oo,[n("div",Po,[(k(!0),E(Z,null,te(B.value,b=>(k(),E("div",{key:b.key,class:"month-timeline bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:F=>V(b.date)},[n("div",Fo,[n("h5",No,S(b.name),1),n("div",Vo,[n("span",null,S(b.events.length)+" events",1),n("span",null,S(b.completedCount)+"/"+S(b.events.length)+" done",1)])]),n("div",Uo,[n("div",Lo,[n("div",{class:"bg-green-600 h-2 rounded-full transition-all",style:$e({width:`${b.progressPercentage}%`})},null,4)])]),n("div",Io,[(k(!0),E(Z,null,te(b.categories,F=>(k(),E("div",{key:F.id,class:"category-dot w-2 h-2 rounded-full",style:$e({backgroundColor:F.color}),title:F.name},null,12,qo))),128))])],8,Bo))),128))])])])):G("",!0)]),i.value?(k(),E("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:_e},[n("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:m[10]||(m[10]=pe(()=>{},["stop"]))},[n("div",zo,[n("div",Ho,[n("h3",Jo,S(x.value?"Edit PMI Event":"Add PMI Event"),1),n("button",{onClick:_e,class:"text-gray-400 hover:text-gray-600"},m[20]||(m[20]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("form",{onSubmit:pe(Ce,["prevent"]),class:"space-y-4"},[n("div",null,[m[21]||(m[21]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Event Title",-1)),H(n("input",{"onUpdate:modelValue":m[2]||(m[2]=b=>g.value.title=b),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event title"},null,512),[[X,g.value.title]])]),n("div",null,[m[22]||(m[22]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),H(n("textarea",{"onUpdate:modelValue":m[3]||(m[3]=b=>g.value.description=b),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event description"},null,512),[[X,g.value.description]])]),n("div",Wo,[n("div",null,[m[23]||(m[23]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),H(n("input",{"onUpdate:modelValue":m[4]||(m[4]=b=>g.value.start_date=b),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[X,g.value.start_date]])]),n("div",null,[m[24]||(m[24]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),H(n("input",{"onUpdate:modelValue":m[5]||(m[5]=b=>g.value.end_date=b),type:"date",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[X,g.value.end_date]])])]),n("div",null,[m[26]||(m[26]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"PMI Category",-1)),H(n("select",{"onUpdate:modelValue":m[6]||(m[6]=b=>g.value.category_id=b),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[m[25]||(m[25]=n("option",{value:""},"Select PMI category",-1)),(k(!0),E(Z,null,te(o.value,b=>(k(),E("option",{key:b.id,value:b.id},S(b.name),9,Go))),128))],512),[[De,g.value.category_id]])]),n("div",Yo,[n("div",null,[m[28]||(m[28]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Priority",-1)),H(n("select",{"onUpdate:modelValue":m[7]||(m[7]=b=>g.value.priority=b),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},m[27]||(m[27]=[n("option",{value:"low"},"Low",-1),n("option",{value:"medium"},"Medium",-1),n("option",{value:"high"},"High",-1),n("option",{value:"critical"},"Critical",-1)]),512),[[De,g.value.priority]])]),n("div",null,[m[30]||(m[30]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),H(n("select",{"onUpdate:modelValue":m[8]||(m[8]=b=>g.value.status=b),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},m[29]||(m[29]=[n("option",{value:"planned"},"Planned",-1),n("option",{value:"in_progress"},"In Progress",-1),n("option",{value:"completed"},"Completed",-1),n("option",{value:"cancelled"},"Cancelled",-1)]),512),[[De,g.value.status]])])]),n("div",null,[m[31]||(m[31]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Location",-1)),H(n("input",{"onUpdate:modelValue":m[9]||(m[9]=b=>g.value.location=b),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Event location or 'Virtual'"},null,512),[[X,g.value.location]])]),n("div",Ko,[n("button",{type:"button",onClick:_e,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Cancel "),n("button",Qo,S(x.value?"Update Event":"Create Event"),1)])],32)])])])):G("",!0),d.value?(k(),E("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:P},[n("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",onClick:m[13]||(m[13]=pe(()=>{},["stop"]))},[n("div",Xo,[n("div",Zo,[n("div",null,[n("h3",ea,S(d.value.title),1),n("p",ta,S(d.value.category_name),1)]),n("button",{onClick:P,class:"text-gray-400 hover:text-gray-600"},m[32]||(m[32]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("div",na,[d.value.description?(k(),E("div",sa,[m[33]||(m[33]=n("p",{class:"text-sm font-medium text-gray-700"},"Description:",-1)),n("p",ra,S(d.value.description),1)])):G("",!0),n("div",null,[m[34]||(m[34]=n("p",{class:"text-sm font-medium text-gray-700"},"Date Range:",-1)),n("p",oa,S(Se(d.value.start_date))+" - "+S(Se(d.value.end_date)),1)]),n("div",aa,[n("div",null,[m[35]||(m[35]=n("p",{class:"text-sm font-medium text-gray-700"},"Priority:",-1)),n("span",{class:oe(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-red-100 text-red-800":d.value.priority==="critical","bg-orange-100 text-orange-800":d.value.priority==="high","bg-yellow-100 text-yellow-800":d.value.priority==="medium","bg-green-100 text-green-800":d.value.priority==="low"}])},S(d.value.priority),3)]),n("div",null,[m[36]||(m[36]=n("p",{class:"text-sm font-medium text-gray-700"},"Status:",-1)),n("span",{class:oe(["inline-flex px-2 py-1 text-xs font-medium rounded-full",{"bg-blue-100 text-blue-800":d.value.status==="planned","bg-yellow-100 text-yellow-800":d.value.status==="in_progress","bg-green-100 text-green-800":d.value.status==="completed","bg-gray-100 text-gray-800":d.value.status==="cancelled"}])},S(d.value.status.replace("_"," ")),3)])]),d.value.location?(k(),E("div",la,[m[37]||(m[37]=n("p",{class:"text-sm font-medium text-gray-700"},"Location:",-1)),n("p",ia,S(d.value.location),1)])):G("",!0)]),n("div",ua,[n("button",{onClick:m[11]||(m[11]=b=>Be(d.value)),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Edit Event "),n("button",{onClick:m[12]||(m[12]=b=>we(d.value)),class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"}," Delete Event ")])])])])):G("",!0)]))}});const ca=xt(da,[["__scopeId","data-v-3cc55963"]]),fa={class:"agenda-generator bg-white rounded-lg shadow-lg p-6"},pa={class:"agenda-header flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6"},ma={class:"agenda-actions flex flex-wrap gap-2"},ga=["disabled"],va={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ya={key:1,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},ba=["disabled"],ha=["disabled"],xa={class:"agenda-form space-y-6"},wa={class:"form-section"},_a={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ka={class:"form-group"},Ea={class:"form-group"},Da={class:"form-group"},Ca={class:"form-group"},Sa={class:"form-group"},$a={class:"form-group"},ja={class:"form-group mt-4"},Aa={class:"form-section"},Ta={class:"attendee-input flex gap-2 mb-4"},Ma={key:0,class:"attendees-list space-y-2"},Ra={class:"flex-1"},Oa={class:"font-medium text-gray-900"},Pa={class:"text-sm text-gray-600"},Ba={key:0,class:"text-xs text-blue-600 font-medium"},Fa=["onClick"],Na={class:"form-section"},Va={class:"agenda-item-input grid grid-cols-1 md:grid-cols-4 gap-2 mb-4"},Ua={key:0,class:"agenda-items-list space-y-2"},La=["onDragstart","onDrop"],Ia={class:"flex items-center gap-3 flex-1"},qa={class:"flex-1"},za={class:"font-medium text-gray-900"},Ha={class:"text-sm text-gray-600"},Ja={class:"flex items-center gap-2"},Wa=["onClick","disabled"],Ga=["onClick","disabled"],Ya=["onClick"],Ka={class:"quick-templates mt-4"},Qa={class:"flex flex-wrap gap-2"},Xa=["onClick"],Za={key:0,class:"agenda-preview mt-8 p-6 bg-gray-50 rounded-lg"},el=["innerHTML"],tl=Ze({__name:"AgendaGenerator",props:{projectId:{default:void 0},gateMeetingId:{default:void 0}},setup(t){const e=t;et();const s=U(!1),r=U(!1),o=U(""),a=U({meetingTitle:"",projectName:"",meetingDate:"",meetingLocation:"",meetingDuration:90,gateType:"",meetingObjective:""}),i=U([]),d=U({name:"",email:"",role:""}),x=U([]),y=U({title:"",duration:15}),g=U([{name:"Standard Gate Meeting",items:[{title:"Welcome and Introductions",duration:10},{title:"Review of Previous Actions",duration:15},{title:"Project Status Update",duration:20},{title:"Key Issues and Risks",duration:20},{title:"Financial Review",duration:15},{title:"Next Steps and Actions",duration:15},{title:"Closing Remarks",duration:5}]},{name:"Project Initiation (Gate 0)",items:[{title:"Project Overview",duration:15},{title:"Business Case Review",duration:20},{title:"Stakeholder Analysis",duration:15},{title:"Resource Requirements",duration:15},{title:"Risk Assessment",duration:15},{title:"Go/No-Go Decision",duration:10}]},{name:"Implementation Review (Gate 3)",items:[{title:"Implementation Progress",duration:20},{title:"Budget and Schedule Review",duration:15},{title:"Quality Assurance Update",duration:15},{title:"Risk and Issue Management",duration:15},{title:"Change Requests",duration:10},{title:"Next Phase Planning",duration:15}]}]),D=Q(()=>a.value.meetingTitle&&a.value.projectName&&a.value.meetingDate&&x.value.length>0),N=Q(()=>x.value.reduce((V,u)=>V+(u.duration||0),0)),I=()=>{d.value.name&&d.value.email&&(i.value.push({...d.value}),d.value={name:"",email:"",role:""})},M=V=>{i.value.splice(V,1)},R=()=>{y.value.title&&(x.value.push({...y.value}),y.value={title:"",duration:15})},A=V=>{x.value.splice(V,1)},J=(V,u)=>{const _=V+u;if(_>=0&&_<x.value.length){const P=x.value.splice(V,1)[0];x.value.splice(_,0,P)}},B=(V,u)=>{V.dataTransfer&&V.dataTransfer.setData("text/plain",u.toString())},z=(V,u)=>{if(!V.dataTransfer)return;const _=parseInt(V.dataTransfer.getData("text/plain"));if(_!==u){const P=x.value.splice(_,1)[0];x.value.splice(u,0,P)}},q=V=>{x.value=[...V.items]},Y=async()=>{try{s.value=!0;const V={...a.value,attendees:i.value,agendaItems:x.value,totalDuration:N.value},u=await ie.post("/api/gate-meetings/generate-agenda",V);o.value=u.data.html,r.value=!0}catch(V){console.error("Error generating agenda:",V)}finally{s.value=!1}},ne=async()=>{try{const V=await ie.post("/api/gate-meetings/export-agenda",{...a.value,attendees:i.value,agendaItems:x.value,html:o.value},{responseType:"blob"}),u=window.URL.createObjectURL(new Blob([V.data])),_=document.createElement("a");_.href=u,_.setAttribute("download",`${a.value.meetingTitle.replace(/[^a-z0-9]/gi,"_")}_agenda.docx`),document.body.appendChild(_),_.click(),document.body.removeChild(_)}catch(V){console.error("Error exporting agenda:",V)}},ee=async()=>{try{s.value=!0,await ie.post("/api/gate-meetings/send-agenda",{...a.value,attendees:i.value,agendaItems:x.value,html:o.value}),alert("Agenda sent to all attendees successfully!")}catch(V){console.error("Error sending agenda:",V),alert("Error sending agenda. Please try again.")}finally{s.value=!1}};return tt(async()=>{if(e.projectId)try{const u=(await ie.get(`/api/projects/${e.projectId}`)).data.data;a.value.projectName=u.project_name||u.projectName}catch(V){console.error("Error fetching project data:",V)}if(e.gateMeetingId)try{const u=(await ie.get(`/api/gate-meetings/${e.gateMeetingId}`)).data.data;a.value.meetingTitle=u.title,a.value.meetingDate=u.meeting_date,a.value.meetingLocation=u.location,a.value.meetingObjective=u.objective,u.attendees&&(i.value=u.attendees),u.agenda_items&&(x.value=u.agenda_items)}catch(V){console.error("Error fetching gate meeting data:",V)}}),(V,u)=>(k(),E("div",fa,[n("div",pa,[u[17]||(u[17]=n("h3",{class:"text-xl font-semibold text-gray-900 flex items-center gap-2"},[n("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),O(" Gate Meeting Agenda Generator ")],-1)),n("div",ma,[n("button",{onClick:Y,disabled:!D.value||s.value,class:"btn btn-primary px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},[s.value?(k(),E("div",ya)):(k(),E("svg",va,u[13]||(u[13]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"},null,-1)]))),u[14]||(u[14]=O(" Generate Agenda ",-1))],8,ga),n("button",{onClick:ne,disabled:!r.value||s.value,class:"btn btn-secondary px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},u[15]||(u[15]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),O(" Export Template ",-1)]),8,ba),n("button",{onClick:ee,disabled:!r.value||i.value.length===0||s.value,class:"btn btn-success px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2"},u[16]||(u[16]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1),O(" Send to Attendees ",-1)]),8,ha)])]),n("div",xa,[n("div",wa,[u[26]||(u[26]=n("h4",{class:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),O(" Meeting Information ")],-1)),n("div",_a,[n("div",ka,[u[18]||(u[18]=n("label",{for:"meetingTitle",class:"block text-sm font-medium text-gray-700 mb-1"},[O(" Meeting Title "),n("span",{class:"text-red-500"},"*")],-1)),H(n("input",{id:"meetingTitle","onUpdate:modelValue":u[0]||(u[0]=_=>a.value.meetingTitle=_),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter meeting title"},null,512),[[X,a.value.meetingTitle]])]),n("div",Ea,[u[19]||(u[19]=n("label",{for:"projectName",class:"block text-sm font-medium text-gray-700 mb-1"},[O(" Project Name "),n("span",{class:"text-red-500"},"*")],-1)),H(n("input",{id:"projectName","onUpdate:modelValue":u[1]||(u[1]=_=>a.value.projectName=_),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter project name"},null,512),[[X,a.value.projectName]])]),n("div",Da,[u[20]||(u[20]=n("label",{for:"meetingDate",class:"block text-sm font-medium text-gray-700 mb-1"},[O(" Meeting Date "),n("span",{class:"text-red-500"},"*")],-1)),H(n("input",{id:"meetingDate","onUpdate:modelValue":u[2]||(u[2]=_=>a.value.meetingDate=_),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[X,a.value.meetingDate]])]),n("div",Ca,[u[21]||(u[21]=n("label",{for:"meetingLocation",class:"block text-sm font-medium text-gray-700 mb-1"}," Meeting Location ",-1)),H(n("input",{id:"meetingLocation","onUpdate:modelValue":u[3]||(u[3]=_=>a.value.meetingLocation=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter meeting location or 'Virtual'"},null,512),[[X,a.value.meetingLocation]])]),n("div",Sa,[u[22]||(u[22]=n("label",{for:"meetingDuration",class:"block text-sm font-medium text-gray-700 mb-1"}," Duration (minutes) ",-1)),H(n("input",{id:"meetingDuration","onUpdate:modelValue":u[4]||(u[4]=_=>a.value.meetingDuration=_),type:"number",min:"15",max:"480",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"90"},null,512),[[X,a.value.meetingDuration]])]),n("div",$a,[u[24]||(u[24]=n("label",{for:"gateType",class:"block text-sm font-medium text-gray-700 mb-1"}," Gate Type ",-1)),H(n("select",{id:"gateType","onUpdate:modelValue":u[5]||(u[5]=_=>a.value.gateType=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},u[23]||(u[23]=[pt('<option value="" data-v-b569c5d7>Select gate type</option><option value="Gate 0" data-v-b569c5d7>Gate 0 - Project Initiation</option><option value="Gate 1" data-v-b569c5d7>Gate 1 - Concept</option><option value="Gate 2" data-v-b569c5d7>Gate 2 - Definition</option><option value="Gate 3" data-v-b569c5d7>Gate 3 - Implementation</option><option value="Gate 4" data-v-b569c5d7>Gate 4 - Handover</option><option value="Gate 5" data-v-b569c5d7>Gate 5 - Benefits Review</option>',7)]),512),[[De,a.value.gateType]])])]),n("div",ja,[u[25]||(u[25]=n("label",{for:"meetingObjective",class:"block text-sm font-medium text-gray-700 mb-1"}," Meeting Objective ",-1)),H(n("textarea",{id:"meetingObjective","onUpdate:modelValue":u[6]||(u[6]=_=>a.value.meetingObjective=_),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the main objective of this gate meeting..."},null,512),[[X,a.value.meetingObjective]])])]),n("div",Aa,[u[29]||(u[29]=n("h4",{class:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})]),O(" Attendees ")],-1)),n("div",Ta,[H(n("input",{"onUpdate:modelValue":u[7]||(u[7]=_=>d.value.name=_),type:"text",placeholder:"Attendee name",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyup:ze(I,["enter"])},null,544),[[X,d.value.name]]),H(n("input",{"onUpdate:modelValue":u[8]||(u[8]=_=>d.value.email=_),type:"email",placeholder:"Email address",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyup:ze(I,["enter"])},null,544),[[X,d.value.email]]),H(n("select",{"onUpdate:modelValue":u[9]||(u[9]=_=>d.value.role=_),class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},u[27]||(u[27]=[pt('<option value="" data-v-b569c5d7>Role</option><option value="Chair" data-v-b569c5d7>Chair</option><option value="Project Manager" data-v-b569c5d7>Project Manager</option><option value="Senior Project Manager" data-v-b569c5d7>Senior Project Manager</option><option value="Director" data-v-b569c5d7>Director</option><option value="Stakeholder" data-v-b569c5d7>Stakeholder</option><option value="Subject Matter Expert" data-v-b569c5d7>Subject Matter Expert</option><option value="Observer" data-v-b569c5d7>Observer</option>',8)]),512),[[De,d.value.role]]),n("button",{onClick:I,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Add ")]),i.value.length>0?(k(),E("div",Ma,[(k(!0),E(Z,null,te(i.value,(_,P)=>(k(),E("div",{key:P,class:"attendee-item flex items-center justify-between p-3 bg-gray-50 rounded-md"},[n("div",Ra,[n("div",Oa,S(_.name),1),n("div",Pa,S(_.email),1),_.role?(k(),E("div",Ba,S(_.role),1)):G("",!0)]),n("button",{onClick:j=>M(P),class:"text-red-600 hover:text-red-800 p-1"},u[28]||(u[28]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Fa)]))),128))])):G("",!0)]),n("div",Na,[u[35]||(u[35]=n("h4",{class:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2"},[n("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})]),O(" Agenda Items ")],-1)),n("div",Va,[H(n("input",{"onUpdate:modelValue":u[10]||(u[10]=_=>y.value.title=_),type:"text",placeholder:"Agenda item title",class:"md:col-span-2 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyup:ze(R,["enter"])},null,544),[[X,y.value.title]]),H(n("input",{"onUpdate:modelValue":u[11]||(u[11]=_=>y.value.duration=_),type:"number",placeholder:"Duration (min)",min:"1",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onKeyup:ze(R,["enter"])},null,544),[[X,y.value.duration]]),n("button",{onClick:R,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Add Item ")]),x.value.length>0?(k(),E("div",Ua,[(k(!0),E(Z,null,te(x.value,(_,P)=>(k(),E("div",{key:P,class:"agenda-item flex items-center justify-between p-3 bg-gray-50 rounded-md",draggable:"true",onDragstart:j=>B(j,P),onDragover:u[12]||(u[12]=pe(()=>{},["prevent"])),onDrop:j=>z(j,P)},[n("div",Ia,[u[30]||(u[30]=n("div",{class:"drag-handle cursor-move text-gray-400"},[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h16M4 16h16"})])],-1)),n("div",qa,[n("div",za,S(_.title),1),n("div",Ha,S(_.duration)+" minutes",1)])]),n("div",Ja,[n("button",{onClick:j=>J(P,-1),disabled:P===0,class:"text-gray-400 hover:text-gray-600 disabled:opacity-50 p-1"},u[31]||(u[31]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)]),8,Wa),n("button",{onClick:j=>J(P,1),disabled:P===x.value.length-1,class:"text-gray-400 hover:text-gray-600 disabled:opacity-50 p-1"},u[32]||(u[32]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),8,Ga),n("button",{onClick:j=>A(P),class:"text-red-600 hover:text-red-800 p-1"},u[33]||(u[33]=[n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ya)])],40,La))),128))])):G("",!0),n("div",Ka,[u[34]||(u[34]=n("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Quick Templates:",-1)),n("div",Qa,[(k(!0),E(Z,null,te(g.value,_=>(k(),E("button",{key:_.name,onClick:P=>q(_),class:"px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full hover:bg-blue-200 transition-colors"},S(_.name),9,Xa))),128))])])])]),r.value?(k(),E("div",Za,[u[36]||(u[36]=n("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Generated Agenda Preview",-1)),n("div",{class:"agenda-content bg-white p-6 rounded border",innerHTML:o.value},null,8,el)])):G("",!0)]))}});const nl=xt(tl,[["__scopeId","data-v-b569c5d7"]]);function sl(){const t=et(),e=U(!1),s=U(null),r=U(null),o=U([]),a=U([]),i=Q(()=>{const u=t.currentUser;return u&&["Project Manager","Senior Project Manager","Director","Admin"].includes(u.role)}),d=Q(()=>{const u=t.currentUser;return u&&["Director","Senior Project Manager","Admin"].includes(u.role)}),x=Q(()=>o.value.some(u=>u.status==="Draft")),y=Q(()=>o.value.some(u=>u.status==="PendingApproval")),g=Q(()=>o.value.find(u=>u.status==="Draft")),D=Q(()=>o.value.find(u=>u.status==="PendingApproval")),N="http://localhost:3002/api/projects",I=()=>({"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1NTBlODQwMC1lMjliLTQxZDQtYTcxNi00NDY2NTU0NDAwMDEiLCJ1c2VybmFtZSI6ImFkbWluIiwicm9sZSI6ImFkbWluIiwiaWF0IjoxNzU0MDg3NTQ0LCJleHAiOjE3NTQxNzM5NDR9.JNyjDGmBCT2B_CxW0mZWBlqkFhFEZ7vEnm7f5hDeyEs"}),M=async u=>{e.value=!0,s.value=null;try{const _=await fetch(N,{method:"POST",headers:I(),body:JSON.stringify(u)});if(!_.ok){const j=await _.json();throw new Error(j.error||"Failed to create project")}return(await _.json()).data}catch(_){throw s.value=_.message,_}finally{e.value=!1}},R=async u=>{var _,P;e.value=!0,s.value=null;try{const j=await fetch(`${N}/${u}`,{headers:I()});if(!j.ok){const K=await j.json();throw new Error(((_=K.error)==null?void 0:_.message)||"Failed to get project")}const se=await j.json();if(se.success&&((P=se.data)!=null&&P.project)){const K=se.data.project;r.value={project:{id:K.id,name:K.projectName||"Red Deer Justice Centre",description:K.projectDescription||"Justice facility construction project"},currentVersion:{name:K.projectName||"Red Deer Justice Centre",description:K.projectDescription||"Justice facility construction project",projectPhase:K.projectPhase||"Construction",region:K.geographicRegion||"Central",totalApprovedFunding:K.totalApprovedFunding||15e6,currentBudget:K.currentBudget||15e6,amountSpent:K.amountSpent||85e5}}}return r.value}catch(j){throw s.value=j.message,j}finally{e.value=!1}},A=async u=>(o.value=[],[]);return{loading:e,error:s,currentProject:r,versions:o,pendingApprovals:a,canCreateDraft:i,canApprove:d,hasDraftVersion:x,hasPendingVersion:y,latestDraft:g,latestPending:D,createProject:M,getProject:R,getVersionHistory:A,createDraftVersion:async u=>{e.value=!0,s.value=null;try{const _=await fetch(`${N}/${u}/versions/draft`,{method:"POST",headers:I()});if(!_.ok){const j=await _.json();throw new Error(j.error||"Failed to create draft version")}const P=await _.json();return await A(u),P.data}catch(_){throw s.value=_.message,_}finally{e.value=!1}},updateDraftVersion:async(u,_,P)=>{e.value=!0,s.value=null;try{const j=await fetch(`${N}/${u}/versions/${_}`,{method:"PUT",headers:I(),body:JSON.stringify(P)});if(!j.ok){const K=await j.json();throw new Error(K.error||"Failed to update draft version")}const se=await j.json();return await A(u),se.data}catch(j){throw s.value=j.message,j}finally{e.value=!1}},submitForApproval:async(u,_)=>{e.value=!0,s.value=null;try{const P=await fetch(`${N}/${u}/versions/${_}/submit`,{method:"POST",headers:I()});if(!P.ok){const se=await P.json();throw new Error(se.error||"Failed to submit for approval")}const j=await P.json();return await A(u),await R(u),j.data}catch(P){throw s.value=P.message,P}finally{e.value=!1}},approveVersion:async(u,_)=>{e.value=!0,s.value=null;try{const P=await fetch(`${N}/${u}/versions/${_}/approve`,{method:"POST",headers:I()});if(!P.ok){const se=await P.json();throw new Error(se.error||"Failed to approve version")}const j=await P.json();return await A(u),await R(u),j.data}catch(P){throw s.value=P.message,P}finally{e.value=!1}},rejectVersion:async(u,_,P)=>{e.value=!0,s.value=null;try{const j=await fetch(`${N}/${u}/versions/${_}/reject`,{method:"POST",headers:I(),body:JSON.stringify({reason:P})});if(!j.ok){const K=await j.json();throw new Error(K.error||"Failed to reject version")}const se=await j.json();return await A(u),se.data}catch(j){throw s.value=j.message,j}finally{e.value=!1}},deleteDraftVersion:async(u,_)=>{e.value=!0,s.value=null;try{const P=await fetch(`${N}/${u}/versions/${_}`,{method:"DELETE",headers:I()});if(!P.ok){const j=await P.json();throw new Error(j.error||"Failed to delete draft version")}return await A(u),await R(u),!0}catch(P){throw s.value=P.message,P}finally{e.value=!1}},getPendingApprovals:async()=>{e.value=!0,s.value=null;try{const u=await fetch(`${N}/pending-approvals`,{headers:I()});if(!u.ok){const P=await u.json();throw new Error(P.error||"Failed to get pending approvals")}const _=await u.json();return a.value=_.data,_.data}catch(u){throw s.value=u.message,u}finally{e.value=!1}},compareVersions:async(u,_,P)=>{e.value=!0,s.value=null;try{const j=await fetch(`${N}/${u}/versions/compare?version1Id=${_}&version2Id=${P}`,{headers:I()});if(!j.ok){const K=await j.json();throw new Error(K.error||"Failed to compare versions")}return(await j.json()).data}catch(j){throw s.value=j.message,j}finally{e.value=!1}}}}const rl={class:"container mx-auto px-4 py-8"},ol={key:0,class:"flex justify-center py-8"},al={key:2,class:"space-y-6"},ll={class:"flex items-center justify-between"},il={class:"flex items-center space-x-4"},ul={class:"flex items-center space-x-2 mt-1"},dl={class:"flex items-center space-x-2"},cl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fl=["value"],pl=["value"],ml={class:"md:col-span-2"},gl=["value"],vl=["value"],yl=["value"],bl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hl={class:"relative mt-1"},xl=["value"],wl={class:"relative mt-1"},_l=["value"],kl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},El={class:"text-sm text-muted-foreground"},Dl={class:"text-sm text-muted-foreground"},Cl={class:"text-sm text-muted-foreground"},Sl={class:"text-sm text-muted-foreground"},$l={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jl={class:"text-sm text-muted-foreground"},Al={key:0,class:"flex justify-center py-8"},Tl={key:1,class:"space-y-4"},Ml={class:"flex items-center justify-between"},Rl={key:0},Ol={key:1},Pl={key:2},Bl={key:3},Fl={key:0},Nl={key:1},Vl={key:2},Ul={key:0,class:"text-sm text-red-600 mt-1"},Ll={class:"flex items-center space-x-2"},Il={key:2,class:"text-center py-8"},ql={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},zl={class:"space-y-4"},Hl={class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},Jl={class:"text-sm text-gray-600"},Wl={class:"space-y-2"},Gl={key:0,class:"text-sm text-gray-500 italic"},Yl={key:1,class:"space-y-2"},Kl={class:"text-sm font-medium"},Ql={class:"text-xs text-gray-500"},Xl={class:"text-xs text-gray-600"},Zl={class:"space-y-4"},ei={key:0,class:"space-y-2"},ti=["onClick"],ni={class:"text-sm font-medium"},si={class:"text-xs text-gray-500"},ri={key:0,class:"mt-6"},oi={class:"grid grid-cols-1 gap-6"},ai={class:"flex flex-wrap gap-2 mb-4"},li={key:0},ii={key:1},ui={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},di={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto"},ci={class:"flex items-center justify-between mb-4"},fi={class:"text-lg font-medium text-gray-900"},pi={class:"space-y-4"},mi={class:"space-y-4"},gi={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vi={class:"md:col-span-2"},Di=Ze({__name:"ProjectDetailPage",setup(t){const e=vn(),s=Q(()=>parseInt(e.params.id)),{loading:r,error:o,currentProject:a,versions:i,canCreateDraft:d,canApprove:x,hasDraftVersion:y,latestDraft:g,getProject:D,getVersionHistory:N,createDraftVersion:I,updateDraftVersion:M,submitForApproval:R,approveVersion:A,rejectVersion:J}=sl(),B=Q(()=>{if(!a.value)return null;const $=a.value.currentVersion;return $?{id:a.value.project.id,name:$.name,description:$.description,contractor:"ABC Construction Ltd.",phase:$.projectPhase||"Construction",region:$.region||"Calgary",projectManager:"Sarah Johnson",startDate:"2024-01-15",expectedCompletion:"2024-12-15",totalBudget:$.totalApprovedFunding,amountSpent:$.amountSpent,category:$.category,projectType:"Renovation",deliveryMethod:"Design-Build",clientMinistry:$.ministry||"Education",deliveryType:"In-service project"}:null}),z=U(!1),q=U(null),Y=U("view"),ne=U(!1),ee=U("fiscal"),V=U(""),u=U([]),_=U([]),P=U(null),j=U({name:"",category:"",description:"",totalBudget:0,currentBudget:0}),se=async()=>{if(s.value)try{console.log("Loading project with ID:",s.value),await D(s.value),await N(s.value),console.log("Project loaded:",a.value)}catch($){console.error("Error loading project:",$),o.value=$.message}};Ye(B,$=>{$&&(j.value={name:$.name,category:$.category,description:$.description,totalBudget:$.totalBudget,currentBudget:$.totalBudget})},{immediate:!0});const K=async()=>{console.log("Creating new draft version..."),Y.value="create";try{if(y.value)q.value=g.value;else{const $=await I(s.value);q.value=$}B.value&&(j.value={name:B.value.name,category:B.value.category,description:B.value.description,totalBudget:B.value.totalBudget,currentBudget:B.value.totalBudget}),z.value=!0}catch($){console.error("Error creating draft:",$),alert(`Error creating draft: ${$.message}`)}},_e=()=>{console.log("Editing existing draft..."),Y.value="edit",q.value=g.value,q.value&&(j.value={name:q.value.name,category:q.value.category,description:q.value.description,totalBudget:q.value.totalApprovedFunding,currentBudget:q.value.currentBudget}),z.value=!0},Pe=()=>{console.log("Viewing version..."),Y.value="view",q.value=i.value.find($=>$.status==="Approved"),q.value&&(j.value={name:q.value.name,category:q.value.category,description:q.value.description,totalBudget:q.value.totalApprovedFunding,currentBudget:q.value.currentBudget}),z.value=!0},Be=async()=>{if(console.log("Submitting draft for approval..."),!g.value){alert("No draft version found to submit");return}try{await R(s.value,g.value.projectVersionId),alert("Draft submitted for approval successfully!")}catch($){console.error("Error submitting draft:",$),alert(`Error submitting draft: ${$.message}`)}},Ce=async()=>{if(console.log("Saving version changes...",j.value),!q.value){alert("No version selected for editing");return}try{const $={name:j.value.name,category:j.value.category,description:j.value.description,totalApprovedFunding:j.value.totalBudget,currentBudget:j.value.currentBudget};await M(s.value,q.value.projectVersionId,$),alert("Version saved successfully!"),w()}catch($){console.error("Error saving version:",$),alert(`Error saving version: ${$.message}`)}},we=async()=>{if(console.log("Submitting version for approval..."),!q.value){alert("No version selected for submission");return}try{await Ce(),await R(s.value,q.value.projectVersionId),alert("Version submitted for approval successfully!"),w()}catch($){console.error("Error submitting version:",$),alert(`Error submitting version: ${$.message}`)}},Se=async $=>{console.log("Approving version:",$);try{await A(s.value,$),alert("Version approved successfully!")}catch(l){console.error("Error approving version:",l),alert(`Error approving version: ${l.message}`)}},T=async($,l)=>{console.log("Rejecting version:",$,"Reason:",l);try{await J(s.value,$,l),alert("Version rejected successfully!")}catch(C){console.error("Error rejecting version:",C),alert(`Error rejecting version: ${C.message}`)}},w=()=>{z.value=!1,q.value=null,Y.value="view"},c=()=>{console.log("Opening workflow state modal..."),alert("Workflow state update modal would open here")},m=()=>{ne.value=!0},b=$=>{console.log("Viewing agenda:",$),alert(`Viewing agenda: ${$.title}`)},F=async()=>{if(s.value)try{console.log("Loading workflow data for project:",s.value),V.value="Planning Required",u.value=[{id:"1",current_state:"Planning Required",state_entered_at:"2024-01-15T10:00:00Z",entered_by_name:"John Smith"},{id:"2",current_state:"PAR Approved",state_entered_at:"2024-01-10T14:30:00Z",entered_by_name:"Sarah Johnson"}],_.value=[{id:"1",title:"Gate 2 Meeting Agenda",created_at:"2024-01-20T09:00:00Z"},{id:"2",title:"Project Kickoff Agenda",created_at:"2024-01-05T11:00:00Z"}]}catch($){console.error("Error loading workflow data:",$)}};return tt(()=>{se(),F()}),Ye(()=>e.params.id,()=>{e.params.id&&se()}),($,l)=>(k(),E("div",rl,[p(r)?(k(),E("div",ol,[v(jt,{size:"lg"})])):p(o)?(k(),St(wn,{key:1,message:`Failed to load project: ${p(o)}`,onRetry:se},null,8,["message"])):B.value?(k(),E("div",al,[n("div",ll,[n("div",il,[v(p(de),{variant:"outline",size:"sm",onClick:l[0]||(l[0]=C=>$.$router.back())},{default:h(()=>[v(p(kn),{class:"h-4 w-4 mr-2"}),l[9]||(l[9]=O(" Back to Projects ",-1))]),_:1,__:[9]}),n("div",null,[v(p(le),{tag:"h1",size:"heading-xl",mb:"xs"},{default:h(()=>[O(S(B.value.name),1)]),_:1}),v(p(le),{color:"secondary",mb:"xs"},{default:h(()=>[O(S(B.value.contractor)+" • "+S(B.value.phase),1)]),_:1}),n("div",ul,[v(p(le),{size:"body-s",color:"secondary"},{default:h(()=>l[10]||(l[10]=[O("Version:",-1)])),_:1,__:[10]}),v(p(le),{size:"body-s"},{default:h(()=>l[11]||(l[11]=[O("v1.0",-1)])),_:1,__:[11]}),l[12]||(l[12]=n("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Current ",-1))])])]),n("div",dl,[v(p(de),{variant:"outline",size:"sm"},{default:h(()=>[v(p(En),{class:"h-4 w-4 mr-2"}),l[13]||(l[13]=O(" Upload PFMT Data ",-1))]),_:1,__:[13]}),v(p(de),{onClick:K,variant:"outline",size:"sm"},{default:h(()=>[v(p(bn),{class:"h-4 w-4 mr-2"}),l[14]||(l[14]=O(" Create Draft ",-1))]),_:1,__:[14]})])]),v(p(xn),{"default-value":"overview",class:"w-full"},{default:h(()=>[v(p(hn),{class:"grid w-full grid-cols-8"},{default:h(()=>[v(p(ke),{value:"overview"},{default:h(()=>l[15]||(l[15]=[O("Overview",-1)])),_:1,__:[15]}),v(p(ke),{value:"details"},{default:h(()=>l[16]||(l[16]=[O("Details",-1)])),_:1,__:[16]}),v(p(ke),{value:"location"},{default:h(()=>l[17]||(l[17]=[O("Location",-1)])),_:1,__:[17]}),v(p(ke),{value:"vendors"},{default:h(()=>l[18]||(l[18]=[O("Vendors",-1)])),_:1,__:[18]}),v(p(ke),{value:"milestones"},{default:h(()=>l[19]||(l[19]=[O("Milestones",-1)])),_:1,__:[19]}),v(p(ke),{value:"workflow"},{default:h(()=>l[20]||(l[20]=[n("div",{class:"flex items-center space-x-1"},[n("span",null,"Workflow"),n("span",{class:"inline-flex items-center justify-center w-2 h-2 bg-green-500 rounded-full"})],-1)])),_:1,__:[20]}),v(p(ke),{value:"calendar"},{default:h(()=>l[21]||(l[21]=[O("Calendar",-1)])),_:1,__:[21]}),v(p(ke),{value:"versions"},{default:h(()=>l[22]||(l[22]=[n("div",{class:"flex items-center space-x-1"},[n("span",null,"Versions"),n("span",{class:"inline-flex items-center justify-center w-2 h-2 bg-blue-500 rounded-full"})],-1)])),_:1,__:[22]})]),_:1}),v(p(Ee),{value:"overview",class:"space-y-6"},{default:h(()=>[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),{class:"flex items-center gap-2"},{default:h(()=>[v(p(yn),{class:"h-5 w-5"}),v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[23]||(l[23]=[O("Project Information",-1)])),_:1,__:[23]})]),_:1}),v(p(Te),null,{default:h(()=>[v(p(le),{variant:"body-s",color:"secondary"},{default:h(()=>l[24]||(l[24]=[O("Basic project information and specifications",-1)])),_:1,__:[24]})]),_:1})]),_:1}),v(p(be),null,{default:h(()=>[n("div",cl,[n("div",null,[l[25]||(l[25]=n("label",{class:"text-sm font-medium text-gray-700"},"Project Name *",-1)),n("input",{type:"text",value:B.value.name,disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500"},null,8,fl)]),n("div",null,[l[26]||(l[26]=n("label",{class:"text-sm font-medium text-gray-700"},"Client Ministry",-1)),n("input",{type:"text",value:B.value.clientMinistry||"Education",disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500"},null,8,pl)]),n("div",ml,[l[27]||(l[27]=n("label",{class:"text-sm font-medium text-gray-700"},"Description",-1)),n("textarea",{value:B.value.description,disabled:"",rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500"},null,8,gl)]),n("div",null,[l[28]||(l[28]=n("label",{class:"text-sm font-medium text-gray-700"},"Project Category",-1)),n("input",{type:"text",value:B.value.category||"Education",disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500"},null,8,vl)]),n("div",null,[l[29]||(l[29]=n("label",{class:"text-sm font-medium text-gray-700"},"Delivery Type",-1)),n("input",{type:"text",value:B.value.deliveryType||"In-service project",disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500"},null,8,yl)])])]),_:1})]),_:1}),v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),{class:"flex items-center gap-2"},{default:h(()=>[v(p(_n),{class:"h-5 w-5"}),v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[30]||(l[30]=[O("Financial Information",-1)])),_:1,__:[30]})]),_:1}),v(p(Te),null,{default:h(()=>[v(p(le),{variant:"body-s",color:"secondary"},{default:h(()=>l[31]||(l[31]=[O("Budget, funding, and financial targets",-1)])),_:1,__:[31]})]),_:1})]),_:1}),v(p(be),null,{default:h(()=>[n("div",bl,[n("div",null,[l[33]||(l[33]=n("label",{class:"text-sm font-medium text-gray-700"},"Total Budget",-1)),n("div",hl,[l[32]||(l[32]=n("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"$",-1)),n("input",{type:"text",value:p(At)(B.value.totalBudget||245e4),disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500 pl-8"},null,8,xl)])]),n("div",null,[l[35]||(l[35]=n("label",{class:"text-sm font-medium text-gray-700"},"Amount Spent",-1)),n("div",wl,[l[34]||(l[34]=n("span",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"},"$",-1)),n("input",{type:"text",value:p(At)(B.value.amountSpent||168e4),disabled:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm disabled:bg-gray-50 disabled:text-gray-500 pl-8"},null,8,_l)])])])]),_:1})]),_:1})]),_:1}),v(p(Ee),{value:"details",class:"space-y-6"},{default:h(()=>[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),null,{default:h(()=>[v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[36]||(l[36]=[O("Project Information",-1)])),_:1,__:[36]})]),_:1})]),_:1}),v(p(be),{class:"space-y-4"},{default:h(()=>[n("div",kl,[n("div",null,[v(p(Me),{class:"text-sm font-medium"},{default:h(()=>l[37]||(l[37]=[O("Project Name",-1)])),_:1,__:[37]}),n("p",El,S(B.value.name),1)]),n("div",null,[v(p(Me),{class:"text-sm font-medium"},{default:h(()=>l[38]||(l[38]=[O("Description",-1)])),_:1,__:[38]}),n("p",Dl,S(B.value.description),1)]),n("div",null,[v(p(Me),{class:"text-sm font-medium"},{default:h(()=>l[39]||(l[39]=[O("Contractor",-1)])),_:1,__:[39]}),n("p",Cl,S(B.value.contractor),1)]),n("div",null,[v(p(Me),{class:"text-sm font-medium"},{default:h(()=>l[40]||(l[40]=[O("Phase",-1)])),_:1,__:[40]}),n("p",Sl,S(B.value.phase),1)])])]),_:1})]),_:1})]),_:1}),v(p(Ee),{value:"location",class:"space-y-6"},{default:h(()=>[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),null,{default:h(()=>[v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[41]||(l[41]=[O("Location Information",-1)])),_:1,__:[41]})]),_:1})]),_:1}),v(p(be),{class:"space-y-4"},{default:h(()=>[n("div",$l,[n("div",null,[v(p(Me),{class:"text-sm font-medium"},{default:h(()=>l[42]||(l[42]=[O("Region",-1)])),_:1,__:[42]}),n("p",jl,S(B.value.region),1)]),n("div",null,[v(p(Me),{class:"text-sm font-medium"},{default:h(()=>l[43]||(l[43]=[O("Province",-1)])),_:1,__:[43]}),l[44]||(l[44]=n("p",{class:"text-sm text-muted-foreground"},"Alberta",-1))])])]),_:1})]),_:1})]),_:1}),v(p(Ee),{value:"vendors",class:"space-y-6"},{default:h(()=>[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),null,{default:h(()=>l[45]||(l[45]=[O("Project Vendors",-1)])),_:1,__:[45]})]),_:1}),v(p(be),null,{default:h(()=>l[46]||(l[46]=[n("p",{class:"text-sm text-muted-foreground"},"Vendor management functionality will be implemented here.",-1)])),_:1,__:[46]})]),_:1})]),_:1}),v(p(Ee),{value:"milestones",class:"space-y-6"},{default:h(()=>[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),null,{default:h(()=>l[47]||(l[47]=[O("Project Milestones",-1)])),_:1,__:[47]})]),_:1}),v(p(be),null,{default:h(()=>l[48]||(l[48]=[n("p",{class:"text-sm text-muted-foreground"},"Milestone tracking functionality will be implemented here.",-1)])),_:1,__:[48]})]),_:1})]),_:1}),v(p(Ee),{value:"versions",class:"space-y-6"},{default:h(()=>[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),{class:"flex items-center justify-between"},{default:h(()=>[l[50]||(l[50]=n("span",null,"Project Versions",-1)),v(p(de),{onClick:K,size:"sm",disabled:!p(d)||p(r)},{default:h(()=>[v(p($t),{class:"h-4 w-4 mr-2"}),l[49]||(l[49]=O(" Create Draft ",-1))]),_:1,__:[49]},8,["disabled"])]),_:1,__:[50]}),v(p(Te),null,{default:h(()=>l[51]||(l[51]=[O(" Manage project versions, create drafts, and track approval workflows ",-1)])),_:1,__:[51]})]),_:1}),v(p(be),null,{default:h(()=>[p(r)?(k(),E("div",Al,[v(jt,{size:"md"})])):p(i).length>0?(k(),E("div",Tl,[(k(!0),E(Z,null,te(p(i),C=>(k(),E("div",{key:C.projectVersionId,class:oe(["border rounded-lg p-4",C.status==="Approved"?"bg-green-50 border-green-200":C.status==="Draft"?"bg-amber-50 border-amber-200":C.status==="PendingApproval"?"bg-blue-50 border-blue-200":"bg-red-50 border-red-200"])},[n("div",Ml,[n("div",null,[n("h4",{class:oe(["font-medium",C.status==="Approved"?"text-green-900":C.status==="Draft"?"text-amber-900":C.status==="PendingApproval"?"text-blue-900":"text-red-900"])},[O(" Version "+S(C.versionNumber)+" ",1),C.status==="Approved"?(k(),E("span",Rl,"(Current)")):C.status==="Draft"?(k(),E("span",Ol,"(Draft)")):C.status==="PendingApproval"?(k(),E("span",Pl,"(Pending Approval)")):(k(),E("span",Bl,"("+S(C.status)+")",1))],2),n("p",{class:oe(["text-sm",C.status==="Approved"?"text-green-700":C.status==="Draft"?"text-amber-700":C.status==="PendingApproval"?"text-blue-700":"text-red-700"])},[C.status==="Approved"&&C.approvedAt?(k(),E("span",Fl," Approved on "+S(p(Ne)(C.approvedAt)),1)):C.status==="PendingApproval"&&C.submittedAt?(k(),E("span",Nl," Submitted on "+S(p(Ne)(C.submittedAt)),1)):(k(),E("span",Vl," Created on "+S(p(Ne)(C.createdAt)),1))],2),n("p",{class:oe(["text-sm",C.status==="Approved"?"text-green-600":C.status==="Draft"?"text-amber-600":C.status==="PendingApproval"?"text-blue-600":"text-red-600"])}," Created by User "+S(C.createdBy),3),C.rejectionReason?(k(),E("p",Ul," Rejection reason: "+S(C.rejectionReason),1)):G("",!0)]),n("div",Ll,[n("span",{class:oe(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",C.status==="Approved"?"bg-green-100 text-green-800":C.status==="Draft"?"bg-amber-100 text-amber-800":C.status==="PendingApproval"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},S(C.status),3),C.status==="Approved"?(k(),St(p(de),{key:0,variant:"outline",size:"sm",onClick:Pe},{default:h(()=>l[52]||(l[52]=[O(" View ",-1)])),_:1,__:[52]})):G("",!0),C.status==="Draft"?(k(),E(Z,{key:1},[v(p(de),{variant:"outline",size:"sm",onClick:_e,disabled:p(r)},{default:h(()=>l[53]||(l[53]=[O(" Edit ",-1)])),_:1,__:[53]},8,["disabled"]),v(p(de),{variant:"outline",size:"sm",onClick:Be,disabled:p(r)},{default:h(()=>l[54]||(l[54]=[O(" Submit for Approval ",-1)])),_:1,__:[54]},8,["disabled"])],64)):G("",!0),C.status==="PendingApproval"&&p(x)?(k(),E(Z,{key:2},[v(p(de),{variant:"outline",size:"sm",onClick:W=>Se(C.projectVersionId),disabled:p(r),class:"text-green-600 hover:text-green-700"},{default:h(()=>l[55]||(l[55]=[O(" Approve ",-1)])),_:2,__:[55]},1032,["onClick","disabled"]),v(p(de),{variant:"outline",size:"sm",onClick:W=>T(C.projectVersionId,"Needs revision"),disabled:p(r),class:"text-red-600 hover:text-red-700"},{default:h(()=>l[56]||(l[56]=[O(" Reject ",-1)])),_:2,__:[56]},1032,["onClick","disabled"])],64)):G("",!0)])])],2))),128))])):(k(),E("div",Il,[l[58]||(l[58]=n("div",{class:"text-gray-400 mb-4"},[n("svg",{class:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),l[59]||(l[59]=n("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No versions yet",-1)),l[60]||(l[60]=n("p",{class:"text-gray-600 mb-4"},"Create your first draft to start managing project versions.",-1)),v(p(de),{onClick:K,disabled:!p(d)||p(r)},{default:h(()=>[v(p($t),{class:"h-4 w-4 mr-2"}),l[57]||(l[57]=O(" Create First Draft ",-1))]),_:1,__:[57]},8,["disabled"])]))]),_:1})]),_:1})]),_:1}),v(p(Ee),{value:"workflow",class:"space-y-6"},{default:h(()=>[n("div",ql,[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),{class:"flex items-center gap-2"},{default:h(()=>[l[62]||(l[62]=n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 4h6m-6 4h6"})],-1)),v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[61]||(l[61]=[O("Gate Meeting Workflow",-1)])),_:1,__:[61]})]),_:1,__:[62]}),v(p(Te),null,{default:h(()=>[v(p(le),{variant:"body-s",color:"secondary"},{default:h(()=>l[63]||(l[63]=[O("Manage gate meetings and project workflow states",-1)])),_:1,__:[63]})]),_:1})]),_:1}),v(p(be),null,{default:h(()=>[n("div",zl,[n("div",Hl,[n("div",null,[l[64]||(l[64]=n("div",{class:"font-medium text-gray-900"},"Current State",-1)),n("div",Jl,S(V.value||"Not Set"),1)]),v(p(de),{size:"sm",onClick:c},{default:h(()=>l[65]||(l[65]=[O(" Update State ",-1)])),_:1,__:[65]})]),n("div",Wl,[l[66]||(l[66]=n("div",{class:"font-medium text-gray-900"},"Recent Workflow History",-1)),u.value.length===0?(k(),E("div",Gl," No workflow history available ")):(k(),E("div",Yl,[(k(!0),E(Z,null,te(u.value.slice(0,3),C=>(k(),E("div",{key:C.id,class:"flex items-center justify-between p-2 bg-white border rounded"},[n("div",null,[n("div",Kl,S(C.current_state),1),n("div",Ql,S(p(Ne)(C.state_entered_at)),1)]),n("div",Xl,S(C.entered_by_name),1)]))),128))]))])])]),_:1})]),_:1}),v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),{class:"flex items-center gap-2"},{default:h(()=>[l[68]||(l[68]=n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[67]||(l[67]=[O("Meeting Agenda",-1)])),_:1,__:[67]})]),_:1,__:[68]}),v(p(Te),null,{default:h(()=>[v(p(le),{variant:"body-s",color:"secondary"},{default:h(()=>l[69]||(l[69]=[O("Generate and manage gate meeting agendas",-1)])),_:1,__:[69]})]),_:1})]),_:1}),v(p(be),null,{default:h(()=>[n("div",Zl,[v(p(de),{onClick:m,class:"w-full"},{default:h(()=>l[70]||(l[70]=[n("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),O(" Generate New Agenda ",-1)])),_:1,__:[70]}),_.value.length>0?(k(),E("div",ei,[l[72]||(l[72]=n("div",{class:"font-medium text-gray-900"},"Recent Agendas",-1)),(k(!0),E(Z,null,te(_.value.slice(0,3),C=>(k(),E("div",{key:C.id,class:"flex items-center justify-between p-2 bg-gray-50 rounded cursor-pointer hover:bg-gray-100",onClick:W=>b(C)},[n("div",null,[n("div",ni,S(C.title),1),n("div",si,S(p(Ne)(C.created_at)),1)]),l[71]||(l[71]=n("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))],8,ti))),128))])):G("",!0)])]),_:1})]),_:1})]),ne.value?(k(),E("div",ri,[v(nl,{"project-id":s.value,"gate-meeting-id":P.value,onClose:l[1]||(l[1]=C=>ne.value=!1)},null,8,["project-id","gate-meeting-id"])])):G("",!0)]),_:1}),v(p(Ee),{value:"calendar",class:"space-y-6"},{default:h(()=>[n("div",oi,[v(p(ve),null,{default:h(()=>[v(p(ye),null,{default:h(()=>[v(p(he),{class:"flex items-center gap-2"},{default:h(()=>[l[74]||(l[74]=n("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),v(p(le),{tag:"h3",variant:"heading-m",color:"primary"},{default:h(()=>l[73]||(l[73]=[O("Project Calendar",-1)])),_:1,__:[73]})]),_:1,__:[74]}),v(p(Te),null,{default:h(()=>[v(p(le),{variant:"body-s",color:"secondary"},{default:h(()=>l[75]||(l[75]=[O("Manage project events, milestones, and fiscal calendar",-1)])),_:1,__:[75]})]),_:1})]),_:1}),v(p(be),null,{default:h(()=>[n("div",ai,[v(p(de),{variant:"outline",size:"sm",class:oe({"bg-blue-50 border-blue-300":ee.value==="fiscal"}),onClick:l[2]||(l[2]=C=>ee.value="fiscal")},{default:h(()=>l[76]||(l[76]=[O(" Fiscal Calendar ",-1)])),_:1,__:[76]},8,["class"]),v(p(de),{variant:"outline",size:"sm",class:oe({"bg-blue-50 border-blue-300":ee.value==="pmi"}),onClick:l[3]||(l[3]=C=>ee.value="pmi")},{default:h(()=>l[77]||(l[77]=[O(" PMI Calendar ",-1)])),_:1,__:[77]},8,["class"])])]),_:1})]),_:1}),ee.value==="fiscal"?(k(),E("div",li,[v(Kr,{"project-id":s.value},null,8,["project-id"])])):G("",!0),ee.value==="pmi"?(k(),E("div",ii,[v(ca)])):G("",!0)])]),_:1})]),_:1})])):G("",!0),z.value?(k(),E("div",ui,[n("div",di,[n("div",ci,[n("h3",fi,S(q.value?`Edit Version ${q.value.versionNumber}`:"View Version"),1),n("button",{onClick:w,class:"text-gray-400 hover:text-gray-600"},l[78]||(l[78]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),n("div",pi,[n("div",{class:"bg-gray-50 p-4 rounded-lg"},[n("div",{class:"flex items-center justify-between"},[l[79]||(l[79]=n("div",null,[n("h4",{class:"font-medium"},"Version 1.1"),n("p",{class:"text-sm text-gray-600"},"Status: Draft")],-1)),n("div",{class:"flex space-x-2"},[n("button",{onClick:we,class:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700"}," Submit for Approval "),n("button",{onClick:w,class:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700"}," Close ")])])]),n("div",mi,[n("div",gi,[n("div",null,[l[80]||(l[80]=n("label",{class:"block text-sm font-medium text-gray-700"},"Project Name",-1)),H(n("input",{"onUpdate:modelValue":l[4]||(l[4]=C=>j.value.name=C),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[X,j.value.name]])]),n("div",null,[l[81]||(l[81]=n("label",{class:"block text-sm font-medium text-gray-700"},"Category",-1)),H(n("input",{"onUpdate:modelValue":l[5]||(l[5]=C=>j.value.category=C),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[X,j.value.category]])]),n("div",vi,[l[82]||(l[82]=n("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),H(n("textarea",{"onUpdate:modelValue":l[6]||(l[6]=C=>j.value.description=C),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[X,j.value.description]])]),n("div",null,[l[83]||(l[83]=n("label",{class:"block text-sm font-medium text-gray-700"},"Total Budget",-1)),H(n("input",{"onUpdate:modelValue":l[7]||(l[7]=C=>j.value.totalBudget=C),type:"number",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[X,j.value.totalBudget,void 0,{number:!0}]])]),n("div",null,[l[84]||(l[84]=n("label",{class:"block text-sm font-medium text-gray-700"},"Current Budget",-1)),H(n("input",{"onUpdate:modelValue":l[8]||(l[8]=C=>j.value.currentBudget=C),type:"number",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[X,j.value.currentBudget,void 0,{number:!0}]])])]),n("div",{class:"flex justify-end space-x-3 pt-4"},[n("button",{onClick:w,class:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50"}," Cancel "),n("button",{onClick:Ce,class:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700"}," Save Changes ")])])])])])):G("",!0)]))}});export{Di as default};
