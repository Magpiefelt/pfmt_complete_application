import{g as ce,d as ne,r as x,h as ge,v as xe,i as oe,e as re,w as l,b as s,K as O,J as y,o as p,k as t,n,t as f,a as o,c as m,F as q,j as L,p as z,l as U,f as ye,B as be}from"./index-61977f9a.js";import{c as V,a as le,b as ae,_ as Ve}from"./VirtualScroll.vue_vue_type_style_index_0_scoped_a66a9b3d_lang-c469ee38.js";import{_ as we}from"./CardTitle.vue_vue_type_script_setup_true_lang-0bb35303.js";import{_ as Ce,E as Se,S as ke}from"./CardDescription.vue_vue_type_script_setup_true_lang-0023089c.js";import{b as $e,c as je,d as Pe,S as Ae,_ as k,a as I,f as Ee,g as Ue,h as De,u as ie,M as Fe,P as Te,e as Ne,A as Me}from"./useFormat-be559ba8.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-ecf31867.js";import{F as se}from"./folder-open-c3bdb052.js";import{M as de}from"./map-pin-31ff5a0e.js";import{C as Ie}from"./calendar-aaa52559.js";import{B as X}from"./building-880f0edd.js";import{P as Be}from"./plus-1536707d.js";/**
 * @license lucide-vue-next v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ce("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),ze={class:"flex-shrink-0 space-y-4 border-b pb-4"},qe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Le={class:"relative"},Oe={class:"flex items-center justify-between"},Re={class:"text-sm text-gray-600"},We={class:"flex-1 overflow-y-auto"},Ge={key:0,class:"flex justify-center py-8"},Je={key:1,class:"text-center py-8"},Ke={class:"text-red-600 mb-2"},Ye={key:2,class:"text-center py-8"},Qe={key:3,class:"space-y-3 p-1"},Xe=["onClick"],Ze={class:"flex items-start justify-between"},he={class:"flex-1"},et={class:"flex items-center space-x-3"},tt={class:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0"},lt={class:"min-w-0 flex-1"},at={class:"text-lg font-medium text-gray-900 truncate"},st={class:"text-sm text-gray-600 truncate"},nt={class:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-2 text-sm"},ot={class:"flex items-center text-gray-600"},rt={class:"truncate"},it={class:"flex items-center text-gray-600"},dt={class:"flex items-center text-gray-600"},ut={class:"flex items-center text-gray-600"},vt={class:"mt-2 flex items-center space-x-4"},pt={key:0,class:"flex-shrink-0 border-t pt-4 space-y-4"},ft={class:"font-medium"},mt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_t={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},ct=ne({__name:"ProjectSelectionModal",props:{vendorId:{},vendorName:{},open:{type:Boolean}},emits:["update:open","project-assigned"],setup(Z,{emit:R}){const B=Z,D=R,{formatStatus:P}=ie(),$=x([]),N=x(!1),b=x(null),w=x(!1),C=x(""),S=x(""),A=x(""),u=x(null),c=x({role:"",contract_value:null,start_date:"",end_date:""}),j=ge({get:()=>B.open,set:_=>D("update:open",_)}),E=async()=>{var _;try{N.value=!0,b.value=null;const a=new URLSearchParams;C.value&&a.append("search",C.value),S.value&&a.append("status",S.value),A.value&&a.append("phase",A.value),a.append("limit","50");const d=await O.get(`/projects?${a.toString()}`);if(d.success)$.value=d.data||[];else throw new Error(((_=d.error)==null?void 0:_.message)||"Failed to load projects")}catch(a){console.error("Error loading projects:",a),b.value=a instanceof Error?a.message:"Failed to load projects"}finally{N.value=!1}},W=(()=>{let _;return()=>{clearTimeout(_),_=setTimeout(()=>{E()},300)}})(),G=_=>{u.value=_,c.value={role:"",contract_value:null,start_date:"",end_date:""}},J=async()=>{var _;if(!(!u.value||!c.value.role))try{w.value=!0;const a={project_id:u.value.id,role:c.value.role,contract_value:c.value.contract_value,start_date:c.value.start_date||null,end_date:c.value.end_date||null},d=await O.post(`/vendors/${B.vendorId}/assign-to-project`,a);if(d.success)D("project-assigned",u.value,c.value),H();else throw new Error(((_=d.error)==null?void 0:_.message)||"Failed to assign vendor to project")}catch(a){console.error("Error assigning vendor to project:",a),b.value=a instanceof Error?a.message:"Failed to assign vendor to project"}finally{w.value=!1}},K=()=>{C.value="",S.value="",A.value="",E()},H=()=>{u.value=null,c.value={role:"",contract_value:null,start_date:"",end_date:""},b.value=null,D("update:open",!1)},Y=_=>{switch(_){case"active":return"bg-green-100 text-green-800";case"planning":return"bg-blue-100 text-blue-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=_=>{switch(_){case"initiation":return"bg-purple-100 text-purple-800";case"planning":return"bg-blue-100 text-blue-800";case"execution":return"bg-green-100 text-green-800";case"monitoring":return"bg-orange-100 text-orange-800";case"closure":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return xe(()=>B.open,_=>{_&&E()}),oe(()=>{B.open&&E()}),(_,a)=>{const d=y("SelectValue"),e=y("SelectTrigger"),v=y("SelectItem"),F=y("SelectContent");return p(),re(s(De),{open:j.value,"onUpdate:open":a[7]||(a[7]=i=>j.value=i)},{default:l(()=>[t(s(Ue),{class:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col"},{default:l(()=>[t(s($e),null,{default:l(()=>[t(s(je),null,{default:l(()=>[n("Assign "+f(_.vendorName)+" to Project",1)]),_:1}),t(s(Pe),null,{default:l(()=>a[8]||(a[8]=[n(" Select a project to assign this vendor to. You can search by project name or filter by status and phase. ",-1)])),_:1,__:[8]})]),_:1}),o("div",ze,[o("div",qe,[o("div",null,[t(s(g),{for:"project-search"},{default:l(()=>a[9]||(a[9]=[n("Search Projects",-1)])),_:1,__:[9]}),o("div",Le,[t(s(Ae),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t(s(k),{id:"project-search",modelValue:C.value,"onUpdate:modelValue":a[0]||(a[0]=i=>C.value=i),placeholder:"Search by project name...",class:"pl-10",onInput:s(W)},null,8,["modelValue","onInput"])])]),o("div",null,[t(s(g),{for:"status-filter"},{default:l(()=>a[10]||(a[10]=[n("Project Status",-1)])),_:1,__:[10]}),t(s(I),{modelValue:S.value,"onUpdate:modelValue":[a[1]||(a[1]=i=>S.value=i),E]},{default:l(()=>[t(e,null,{default:l(()=>[t(d,{placeholder:"All Statuses"})]),_:1}),t(F,null,{default:l(()=>[t(v,{value:""},{default:l(()=>a[11]||(a[11]=[n("All Statuses",-1)])),_:1,__:[11]}),t(v,{value:"planning"},{default:l(()=>a[12]||(a[12]=[n("Planning",-1)])),_:1,__:[12]}),t(v,{value:"active"},{default:l(()=>a[13]||(a[13]=[n("Active",-1)])),_:1,__:[13]}),t(v,{value:"on-hold"},{default:l(()=>a[14]||(a[14]=[n("On Hold",-1)])),_:1,__:[14]}),t(v,{value:"completed"},{default:l(()=>a[15]||(a[15]=[n("Completed",-1)])),_:1,__:[15]}),t(v,{value:"cancelled"},{default:l(()=>a[16]||(a[16]=[n("Cancelled",-1)])),_:1,__:[16]})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[t(s(g),{for:"phase-filter"},{default:l(()=>a[17]||(a[17]=[n("Project Phase",-1)])),_:1,__:[17]}),t(s(I),{modelValue:A.value,"onUpdate:modelValue":[a[2]||(a[2]=i=>A.value=i),E]},{default:l(()=>[t(e,null,{default:l(()=>[t(d,{placeholder:"All Phases"})]),_:1}),t(F,null,{default:l(()=>[t(v,{value:""},{default:l(()=>a[18]||(a[18]=[n("All Phases",-1)])),_:1,__:[18]}),t(v,{value:"initiation"},{default:l(()=>a[19]||(a[19]=[n("Initiation",-1)])),_:1,__:[19]}),t(v,{value:"planning"},{default:l(()=>a[20]||(a[20]=[n("Planning",-1)])),_:1,__:[20]}),t(v,{value:"execution"},{default:l(()=>a[21]||(a[21]=[n("Execution",-1)])),_:1,__:[21]}),t(v,{value:"monitoring"},{default:l(()=>a[22]||(a[22]=[n("Monitoring",-1)])),_:1,__:[22]}),t(v,{value:"closure"},{default:l(()=>a[23]||(a[23]=[n("Closure",-1)])),_:1,__:[23]})]),_:1})]),_:1},8,["modelValue"])])]),o("div",Oe,[o("p",Re,f($.value.length)+" project"+f($.value.length!==1?"s":"")+" found ",1),t(s(V),{variant:"outline",onClick:K,size:"sm"},{default:l(()=>a[24]||(a[24]=[n(" Clear Filters ",-1)])),_:1,__:[24]})])]),o("div",We,[N.value?(p(),m("div",Ge,a[25]||(a[25]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):b.value?(p(),m("div",Je,[o("p",Ke,f(b.value),1),t(s(V),{variant:"outline",onClick:E,size:"sm"},{default:l(()=>a[26]||(a[26]=[n(" Try Again ",-1)])),_:1,__:[26]})])):$.value.length===0?(p(),m("div",Ye,[t(s(se),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a[27]||(a[27]=o("p",{class:"text-gray-500 mb-2"},"No projects found",-1)),a[28]||(a[28]=o("p",{class:"text-sm text-gray-400"},"Try adjusting your search criteria",-1))])):(p(),m("div",Qe,[(p(!0),m(q,null,L($.value,i=>{var M;return p(),m("div",{key:i.id,class:z(["border rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer",{"ring-2 ring-blue-500 bg-blue-50":((M=u.value)==null?void 0:M.id)===i.id}]),onClick:h=>G(i)},[o("div",Ze,[o("div",he,[o("div",et,[o("div",tt,[t(s(se),{class:"h-5 w-5 text-green-600"})]),o("div",lt,[o("h4",at,f(i.project_name),1),o("p",st,f(i.program||"No program specified"),1)])]),o("div",nt,[o("div",ot,[t(s(de),{class:"h-4 w-4 mr-2 flex-shrink-0"}),o("span",rt,f(i.geographic_region||"No region specified"),1)]),o("div",it,[t(s(Ie),{class:"h-4 w-4 mr-2 flex-shrink-0"}),o("span",null,f(i.approval_year||"No year specified"),1)]),o("div",dt,[t(s(X),{class:"h-4 w-4 mr-2 flex-shrink-0"}),o("span",null,f(i.project_type||"No type specified"),1)]),o("div",ut,[t(s(He),{class:"h-4 w-4 mr-2 flex-shrink-0"}),o("span",null,f(i.delivery_type||"No delivery type"),1)])]),o("div",vt,[o("span",{class:z(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Y(i.project_status)])},f(s(P)(i.project_status)),3),o("span",{class:z(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Q(i.project_phase)])},f(s(P)(i.project_phase)),3)])])])],10,Xe)}),128))]))]),u.value?(p(),m("div",pt,[o("h4",ft,"Assignment Details for "+f(u.value.project_name),1),o("div",mt,[o("div",null,[t(s(g),{for:"vendor-role"},{default:l(()=>a[29]||(a[29]=[n("Role/Specialization *",-1)])),_:1,__:[29]}),t(s(I),{modelValue:c.value.role,"onUpdate:modelValue":a[3]||(a[3]=i=>c.value.role=i),required:""},{default:l(()=>[t(e,null,{default:l(()=>[t(d,{placeholder:"Select role"})]),_:1}),t(F,null,{default:l(()=>[t(v,{value:"General Contractor"},{default:l(()=>a[30]||(a[30]=[n("General Contractor",-1)])),_:1,__:[30]}),t(v,{value:"Architect"},{default:l(()=>a[31]||(a[31]=[n("Architect",-1)])),_:1,__:[31]}),t(v,{value:"Engineer"},{default:l(()=>a[32]||(a[32]=[n("Engineer",-1)])),_:1,__:[32]}),t(v,{value:"Electrical Contractor"},{default:l(()=>a[33]||(a[33]=[n("Electrical Contractor",-1)])),_:1,__:[33]}),t(v,{value:"Plumbing Contractor"},{default:l(()=>a[34]||(a[34]=[n("Plumbing Contractor",-1)])),_:1,__:[34]}),t(v,{value:"HVAC Contractor"},{default:l(()=>a[35]||(a[35]=[n("HVAC Contractor",-1)])),_:1,__:[35]}),t(v,{value:"Consultant"},{default:l(()=>a[36]||(a[36]=[n("Consultant",-1)])),_:1,__:[36]}),t(v,{value:"Supplier"},{default:l(()=>a[37]||(a[37]=[n("Supplier",-1)])),_:1,__:[37]}),t(v,{value:"Other"},{default:l(()=>a[38]||(a[38]=[n("Other",-1)])),_:1,__:[38]})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[t(s(g),{for:"contract-value"},{default:l(()=>a[39]||(a[39]=[n("Contract Value",-1)])),_:1,__:[39]}),t(s(k),{id:"contract-value",modelValue:c.value.contract_value,"onUpdate:modelValue":a[4]||(a[4]=i=>c.value.contract_value=i),type:"number",min:"0",step:"1000",placeholder:"0"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"start-date"},{default:l(()=>a[40]||(a[40]=[n("Start Date",-1)])),_:1,__:[40]}),t(s(k),{id:"start-date",modelValue:c.value.start_date,"onUpdate:modelValue":a[5]||(a[5]=i=>c.value.start_date=i),type:"date"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"end-date"},{default:l(()=>a[41]||(a[41]=[n("End Date",-1)])),_:1,__:[41]}),t(s(k),{id:"end-date",modelValue:c.value.end_date,"onUpdate:modelValue":a[6]||(a[6]=i=>c.value.end_date=i),type:"date"},null,8,["modelValue"])])])])):U("",!0),t(s(Ee),null,{default:l(()=>[t(s(V),{variant:"outline",onClick:H},{default:l(()=>a[42]||(a[42]=[n(" Cancel ",-1)])),_:1,__:[42]}),t(s(V),{onClick:J,disabled:!u.value||!c.value.role||w.value},{default:l(()=>[w.value?(p(),m("div",_t)):U("",!0),n(" "+f(w.value?"Assigning...":"Assign to Project"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])}}}),gt={class:"container mx-auto px-4 py-8"},xt={class:"flex items-center justify-between mb-6"},yt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},bt={class:"flex items-end"},Vt={key:0,class:"flex justify-center py-8"},wt={key:1,class:"text-center py-8"},Ct={class:"text-red-600 mb-2"},St={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},kt={class:"flex items-start justify-between"},$t={class:"flex-1"},jt={class:"space-y-3"},Pt={key:0,class:"flex items-center space-x-2 text-sm text-gray-600"},At={class:"truncate"},Et={key:1,class:"flex items-center space-x-2 text-sm text-gray-600"},Ut={key:2,class:"flex items-center space-x-2 text-sm text-gray-600"},Dt={class:"truncate"},Ft={key:3},Tt={class:"flex flex-wrap gap-1 mt-1"},Nt={key:4,class:"flex items-center justify-between"},Mt={class:"flex items-center space-x-1"},It={class:"text-sm text-gray-600 ml-1"},Bt={key:5,class:"flex items-center space-x-2 text-sm text-gray-600"},Ht={class:"flex space-x-2 pt-2"},zt={key:3,class:"text-center py-12"},qt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},el=ne({__name:"VendorManagementPage",setup(Z){const R=ye(),{formatStatus:B}=ie(),D=x(!1),P=x(null),$=x(!1),N=x([]),b=x(""),w=x(""),C=x(""),S=x(!1),A=x(!1),u=x({name:"",contact_email:"",contact_phone:"",website:"",address:"",capabilities:"",description:"",certification_level:"",status:"active"}),c=x(null),j=async()=>{var d;try{D.value=!0,P.value=null;const e=new URLSearchParams;b.value&&e.append("search",b.value),w.value&&e.append("capability",w.value),C.value&&e.append("status",C.value),e.append("limit","50");const v=await O.get(`/vendors?${e.toString()}`);if(v.success)N.value=v.data||[];else throw new Error(((d=v.error)==null?void 0:d.message)||"Failed to load vendors")}catch(e){console.error("Error loading vendors:",e),P.value=e instanceof Error?e.message:"Failed to load vendors"}finally{D.value=!1}},E=(()=>{let d;return()=>{clearTimeout(d),d=setTimeout(()=>{j()},300)}})(),W=()=>{b.value="",w.value="",C.value="",j()},G=d=>{R.push(`/vendors/${d.id}`)},J=d=>{console.log("Edit vendor:",d)},K=d=>{c.value=d,A.value=!0},H=async()=>{var d;try{$.value=!0;const e=await O.post("/vendors",u.value);if(e.success)S.value=!1,Q(),j();else throw new Error(((d=e.error)==null?void 0:d.message)||"Failed to save vendor")}catch(e){console.error("Error saving vendor:",e),P.value=e instanceof Error?e.message:"Failed to save vendor"}finally{$.value=!1}},Y=(d,e)=>{console.log("Vendor assigned to project:",{project:d,assignmentData:e})},Q=()=>{u.value={name:"",contact_email:"",contact_phone:"",website:"",address:"",capabilities:"",description:"",certification_level:"",status:"active"}},_=d=>{switch(d){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},a=d=>d?d.split(",").map(e=>e.trim()).filter(Boolean):[];return oe(()=>{j()}),(d,e)=>{var ee,te;const v=y("SelectValue"),F=y("SelectTrigger"),i=y("SelectItem"),M=y("SelectContent"),h=y("DialogTitle"),ue=y("DialogDescription"),ve=y("DialogHeader"),pe=y("Textarea"),fe=y("DialogFooter"),me=y("DialogContent"),_e=y("Dialog");return p(),m("div",gt,[o("div",xt,[e[17]||(e[17]=o("div",null,[o("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Vendor Management"),o("p",{class:"text-gray-600"},"Manage vendor profiles, capabilities, and project assignments")],-1)),t(s(V),{onClick:e[0]||(e[0]=r=>S.value=!0),class:"flex items-center space-x-2"},{default:l(()=>[t(s(Be),{class:"h-4 w-4"}),e[16]||(e[16]=o("span",null,"Add Vendor",-1))]),_:1,__:[16]})]),t(s(ae),{class:"mb-6"},{default:l(()=>[t(s(le),{class:"p-4"},{default:l(()=>[o("div",yt,[o("div",null,[t(s(g),{for:"search"},{default:l(()=>e[18]||(e[18]=[n("Search Vendors",-1)])),_:1,__:[18]}),t(s(k),{id:"search",modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=r=>b.value=r),type:"text",placeholder:"Search by name or capability...",onInput:s(E)},null,8,["modelValue","onInput"])]),o("div",null,[t(s(g),{for:"capability"},{default:l(()=>e[19]||(e[19]=[n("Capability",-1)])),_:1,__:[19]}),t(s(I),{modelValue:w.value,"onUpdate:modelValue":[e[2]||(e[2]=r=>w.value=r),j]},{default:l(()=>[t(F,null,{default:l(()=>[t(v,{placeholder:"All Capabilities"})]),_:1}),t(M,null,{default:l(()=>[t(i,{value:""},{default:l(()=>e[20]||(e[20]=[n("All Capabilities",-1)])),_:1,__:[20]}),t(i,{value:"construction"},{default:l(()=>e[21]||(e[21]=[n("Construction",-1)])),_:1,__:[21]}),t(i,{value:"design"},{default:l(()=>e[22]||(e[22]=[n("Design",-1)])),_:1,__:[22]}),t(i,{value:"consulting"},{default:l(()=>e[23]||(e[23]=[n("Consulting",-1)])),_:1,__:[23]}),t(i,{value:"engineering"},{default:l(()=>e[24]||(e[24]=[n("Engineering",-1)])),_:1,__:[24]}),t(i,{value:"architecture"},{default:l(()=>e[25]||(e[25]=[n("Architecture",-1)])),_:1,__:[25]}),t(i,{value:"electrical"},{default:l(()=>e[26]||(e[26]=[n("Electrical",-1)])),_:1,__:[26]}),t(i,{value:"plumbing"},{default:l(()=>e[27]||(e[27]=[n("Plumbing",-1)])),_:1,__:[27]}),t(i,{value:"hvac"},{default:l(()=>e[28]||(e[28]=[n("HVAC",-1)])),_:1,__:[28]})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[t(s(g),{for:"status"},{default:l(()=>e[29]||(e[29]=[n("Status",-1)])),_:1,__:[29]}),t(s(I),{modelValue:C.value,"onUpdate:modelValue":[e[3]||(e[3]=r=>C.value=r),j]},{default:l(()=>[t(F,null,{default:l(()=>[t(v,{placeholder:"All Statuses"})]),_:1}),t(M,null,{default:l(()=>[t(i,{value:""},{default:l(()=>e[30]||(e[30]=[n("All Statuses",-1)])),_:1,__:[30]}),t(i,{value:"active"},{default:l(()=>e[31]||(e[31]=[n("Active",-1)])),_:1,__:[31]}),t(i,{value:"inactive"},{default:l(()=>e[32]||(e[32]=[n("Inactive",-1)])),_:1,__:[32]}),t(i,{value:"pending"},{default:l(()=>e[33]||(e[33]=[n("Pending",-1)])),_:1,__:[33]})]),_:1})]),_:1},8,["modelValue"])]),o("div",bt,[t(s(V),{onClick:W,variant:"outline",class:"w-full"},{default:l(()=>e[34]||(e[34]=[n(" Clear Filters ",-1)])),_:1,__:[34]})])])]),_:1})]),_:1}),D.value?(p(),m("div",Vt,e[35]||(e[35]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):P.value?(p(),m("div",wt,[o("p",Ct,f(P.value),1),t(s(V),{variant:"outline",onClick:j},{default:l(()=>e[36]||(e[36]=[n(" Try Again ",-1)])),_:1,__:[36]})])):(p(),m("div",St,[(p(!0),m(q,null,L(N.value,r=>(p(),re(s(ae),{key:r.id,class:"hover:shadow-lg transition-shadow"},{default:l(()=>[t(s(Ve),null,{default:l(()=>[o("div",kt,[o("div",$t,[t(s(we),{class:"text-lg"},{default:l(()=>[n(f(r.name),1)]),_:2},1024),t(s(Ce),null,{default:l(()=>[n(f(r.description||"No description available"),1)]),_:2},1024)]),o("span",{class:z([_(r.status),"px-2 py-1 rounded-full text-xs font-medium"])},f(s(B)(r.status)),3)])]),_:2},1024),t(s(le),null,{default:l(()=>[o("div",jt,[r.contact_email?(p(),m("div",Pt,[t(s(Fe),{class:"h-4 w-4"}),o("span",At,f(r.contact_email),1)])):U("",!0),r.contact_phone?(p(),m("div",Et,[t(s(Te),{class:"h-4 w-4"}),o("span",null,f(r.contact_phone),1)])):U("",!0),r.address?(p(),m("div",Ut,[t(s(de),{class:"h-4 w-4"}),o("span",Dt,f(r.address),1)])):U("",!0),r.capabilities?(p(),m("div",Ft,[t(s(g),{class:"text-sm font-medium"},{default:l(()=>e[37]||(e[37]=[n("Capabilities",-1)])),_:1,__:[37]}),o("div",Tt,[(p(!0),m(q,null,L(a(r.capabilities),T=>(p(),m("span",{key:T,class:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full"},f(T),1))),128))])])):U("",!0),r.performance_rating?(p(),m("div",Nt,[t(s(g),{class:"text-sm font-medium"},{default:l(()=>e[38]||(e[38]=[n("Performance",-1)])),_:1,__:[38]}),o("div",Mt,[(p(),m(q,null,L(5,T=>t(s(Ne),{key:T,class:z([T<=r.performance_rating?"text-yellow-400 fill-current":"text-gray-300","h-4 w-4"])},null,8,["class"])),64)),o("span",It,"("+f(r.performance_rating)+"/5)",1)])])):U("",!0),r.certification_level?(p(),m("div",Bt,[t(s(Me),{class:"h-4 w-4"}),o("span",null,f(r.certification_level),1)])):U("",!0),o("div",Ht,[t(s(V),{onClick:T=>G(r),variant:"outline",size:"sm",class:"flex-1"},{default:l(()=>[t(s(Se),{class:"h-4 w-4 mr-1"}),e[39]||(e[39]=n(" View ",-1))]),_:2,__:[39]},1032,["onClick"]),t(s(V),{onClick:T=>J(r),variant:"outline",size:"sm",class:"flex-1"},{default:l(()=>[t(s(ke),{class:"h-4 w-4 mr-1"}),e[40]||(e[40]=n(" Edit ",-1))]),_:2,__:[40]},1032,["onClick"]),t(s(V),{onClick:T=>K(r),size:"sm",class:"flex-1"},{default:l(()=>[t(s(X),{class:"h-4 w-4 mr-1"}),e[41]||(e[41]=n(" Assign ",-1))]),_:2,__:[41]},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))])),!D.value&&!P.value&&N.value.length===0?(p(),m("div",zt,[t(s(X),{class:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e[42]||(e[42]=o("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No vendors found",-1)),e[43]||(e[43]=o("p",{class:"text-gray-600"},"Try adjusting your search criteria or add a new vendor.",-1))])):U("",!0),t(_e,{open:S.value,"onUpdate:open":e[14]||(e[14]=r=>S.value=r)},{default:l(()=>[t(me,{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:l(()=>[t(ve,null,{default:l(()=>[t(h,null,{default:l(()=>e[44]||(e[44]=[n("Add New Vendor",-1)])),_:1,__:[44]}),t(ue,null,{default:l(()=>e[45]||(e[45]=[n(" Create a new vendor profile with contact information and capabilities. ",-1)])),_:1,__:[45]})]),_:1}),o("form",{onSubmit:be(H,["prevent"]),class:"space-y-4"},[o("div",qt,[o("div",null,[t(s(g),{for:"vendorName"},{default:l(()=>e[46]||(e[46]=[n("Vendor Name *",-1)])),_:1,__:[46]}),t(s(k),{id:"vendorName",modelValue:u.value.name,"onUpdate:modelValue":e[4]||(e[4]=r=>u.value.name=r),type:"text",required:"",placeholder:"Enter vendor name"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"vendorEmail"},{default:l(()=>e[47]||(e[47]=[n("Contact Email *",-1)])),_:1,__:[47]}),t(s(k),{id:"vendorEmail",modelValue:u.value.contact_email,"onUpdate:modelValue":e[5]||(e[5]=r=>u.value.contact_email=r),type:"email",required:"",placeholder:"contact@vendor.com"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"vendorPhone"},{default:l(()=>e[48]||(e[48]=[n("Contact Phone",-1)])),_:1,__:[48]}),t(s(k),{id:"vendorPhone",modelValue:u.value.contact_phone,"onUpdate:modelValue":e[6]||(e[6]=r=>u.value.contact_phone=r),type:"tel",placeholder:"(403) 555-0123"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"vendorWebsite"},{default:l(()=>e[49]||(e[49]=[n("Website",-1)])),_:1,__:[49]}),t(s(k),{id:"vendorWebsite",modelValue:u.value.website,"onUpdate:modelValue":e[7]||(e[7]=r=>u.value.website=r),type:"url",placeholder:"https://vendor.com"},null,8,["modelValue"])])]),o("div",null,[t(s(g),{for:"vendorAddress"},{default:l(()=>e[50]||(e[50]=[n("Address",-1)])),_:1,__:[50]}),t(s(k),{id:"vendorAddress",modelValue:u.value.address,"onUpdate:modelValue":e[8]||(e[8]=r=>u.value.address=r),type:"text",placeholder:"Full address"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"vendorCapabilities"},{default:l(()=>e[51]||(e[51]=[n("Capabilities",-1)])),_:1,__:[51]}),t(s(k),{id:"vendorCapabilities",modelValue:u.value.capabilities,"onUpdate:modelValue":e[9]||(e[9]=r=>u.value.capabilities=r),type:"text",placeholder:"e.g., construction, design, consulting (comma-separated)"},null,8,["modelValue"])]),o("div",null,[t(s(g),{for:"vendorDescription"},{default:l(()=>e[52]||(e[52]=[n("Description",-1)])),_:1,__:[52]}),t(pe,{id:"vendorDescription",modelValue:u.value.description,"onUpdate:modelValue":e[10]||(e[10]=r=>u.value.description=r),rows:"3",placeholder:"Brief description of the vendor's services and expertise..."},null,8,["modelValue"])]),o("div",Lt,[o("div",null,[t(s(g),{for:"certificationLevel"},{default:l(()=>e[53]||(e[53]=[n("Certification Level",-1)])),_:1,__:[53]}),t(s(I),{modelValue:u.value.certification_level,"onUpdate:modelValue":e[11]||(e[11]=r=>u.value.certification_level=r)},{default:l(()=>[t(F,null,{default:l(()=>[t(v,{placeholder:"Select certification"})]),_:1}),t(M,null,{default:l(()=>[t(i,{value:"basic"},{default:l(()=>e[54]||(e[54]=[n("Basic",-1)])),_:1,__:[54]}),t(i,{value:"intermediate"},{default:l(()=>e[55]||(e[55]=[n("Intermediate",-1)])),_:1,__:[55]}),t(i,{value:"advanced"},{default:l(()=>e[56]||(e[56]=[n("Advanced",-1)])),_:1,__:[56]}),t(i,{value:"expert"},{default:l(()=>e[57]||(e[57]=[n("Expert",-1)])),_:1,__:[57]})]),_:1})]),_:1},8,["modelValue"])]),o("div",null,[t(s(g),{for:"vendorStatus"},{default:l(()=>e[58]||(e[58]=[n("Status",-1)])),_:1,__:[58]}),t(s(I),{modelValue:u.value.status,"onUpdate:modelValue":e[12]||(e[12]=r=>u.value.status=r)},{default:l(()=>[t(F,null,{default:l(()=>[t(v,{placeholder:"Select status"})]),_:1}),t(M,null,{default:l(()=>[t(i,{value:"active"},{default:l(()=>e[59]||(e[59]=[n("Active",-1)])),_:1,__:[59]}),t(i,{value:"inactive"},{default:l(()=>e[60]||(e[60]=[n("Inactive",-1)])),_:1,__:[60]}),t(i,{value:"pending"},{default:l(()=>e[61]||(e[61]=[n("Pending",-1)])),_:1,__:[61]})]),_:1})]),_:1},8,["modelValue"])])])],32),t(fe,null,{default:l(()=>[t(s(V),{variant:"outline",onClick:e[13]||(e[13]=r=>S.value=!1)},{default:l(()=>e[62]||(e[62]=[n(" Cancel ",-1)])),_:1,__:[62]}),t(s(V),{onClick:H,disabled:$.value},{default:l(()=>[n(f($.value?"Saving...":"Save Vendor"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),t(ct,{open:A.value,"onUpdate:open":e[15]||(e[15]=r=>A.value=r),"vendor-id":((ee=c.value)==null?void 0:ee.id)||"","vendor-name":((te=c.value)==null?void 0:te.name)||"",onProjectAssigned:Y},null,8,["open","vendor-id","vendor-name"])])}}});export{el as default};
