# PFMT Integrated Dual-Wizard Application - Backend Environment Configuration

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pfmt_integrated
DB_USER=pfmt_user
DB_PASSWORD=pfmt_password
DB_SSL=false

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
JWT_SECRET=pfmt_jwt_secret_key_change_in_production_2024
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=3000
NODE_ENV=development
HOST=0.0.0.0

# =============================================================================
# CORS CONFIGURATION - UPDATED FOR ALLOWLIST
# =============================================================================
ALLOWED_ORIGINS=http://localhost:8080,http://localhost:3000,http://127.0.0.1:8080,http://127.0.0.1:3000
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_CREDENTIALS=true

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session security
SESSION_SECRET=pfmt_session_secret_change_in_production_2024
SECURE_COOKIES=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_FILE_PATH=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=pfmt@gov.ab.ca
SMTP_PASS=your_app_password
EMAIL_FROM=noreply@pfmt-integrated.gov.ab.ca

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=pdf,doc,docx,xls,xlsx,csv,txt,jpg,jpeg,png,gif
UPLOAD_DESTINATION=uploads/

# =============================================================================
# REDIS CONFIGURATION (Optional - for caching)
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
PERFORMANCE_MONITORING=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
DEBUG=false
VERBOSE_LOGGING=false
ENABLE_SWAGGER=true
ENABLE_PLAYGROUND=false

# =============================================================================
# FEATURE FLAGS - DUAL WIZARD SYSTEM
# =============================================================================
FEATURE_DUAL_WIZARD=true
FEATURE_LEGACY_WIZARD=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_AUDIT_LOGGING=true
FEATURE_REAL_TIME_UPDATES=true

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_VERSION=v1
API_RATE_LIMIT=1000
API_TIMEOUT=30000
API_MAX_PAYLOAD_SIZE=50mb

# =============================================================================
# WORKFLOW SYSTEM CONFIGURATION
# =============================================================================
WORKFLOW_ENABLED=true
WORKFLOW_AUTO_FINALIZE=true
WORKFLOW_NOTIFICATION_ENABLED=true

# =============================================================================
# DUAL WIZARD SYSTEM CONFIGURATION
# =============================================================================
WIZARD_SESSION_TIMEOUT=3600000
WIZARD_AUTO_SAVE_INTERVAL=30000
WIZARD_MAX_STEPS=10

# =============================================================================
# PRODUCTION OVERRIDES (Uncomment for production)
# =============================================================================
# NODE_ENV=production
# SECURE_COOKIES=true
# DB_SSL=true
# LOG_LEVEL=warn
# DEBUG=false
# ALLOWED_ORIGINS=https://pfmt.gov.ab.ca,https://pfmt-staging.gov.ab.ca

